/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],Array(141).concat([function(t,e,n){var r=n(250),o=n(251),i=n(252);t.exports=function(t,e){return r(t)||o(t,e)||i()}},,function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(214),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(286),o=n(291);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},,,,function(t,e,n){var r=n(152),o=n(287),i=n(288),u="[object Null]",s="[object Undefined]",a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:u:a&&a in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(144).Symbol;t.exports=r},function(t,e,n){var r=n(253),o=n(254),i=n(255);t.exports=function(t){return r(t)||o(t)||i()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Sylvester={precision:1e-6,approxPrecision:1e-5},e.DimensionalityMismatchError=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,Error),e}()},function(t,e,n){"use strict";(function(e){function r(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0}function o(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var i=n(271),u=Object.prototype.hasOwnProperty,s=Array.prototype.slice,a="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function l(t){return!o(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var f=t.exports=m,h=/\s*function\s+([^\(\s]*)\s*/;function v(t){if(i.isFunction(t)){if(a)return t.name;var e=t.toString().match(h);return e&&e[1]}}function p(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function d(t){if(a||!i.isFunction(t))return i.inspect(t);var e=v(t);return"[Function"+(e?": "+e:"")+"]"}function y(t,e,n,r,o){throw new f.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:o})}function m(t,e){t||y(t,!0,e,"==",f.ok)}function g(t,e,n,u){if(t===e)return!0;if(o(t)&&o(e))return 0===r(t,e);if(i.isDate(t)&&i.isDate(e))return t.getTime()===e.getTime();if(i.isRegExp(t)&&i.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(l(t)&&l(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var a=(u=u||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===u.expected.indexOf(e)||(u.actual.push(t),u.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(i.isPrimitive(t)||i.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=b(t),u=b(e);if(o&&!u||!o&&u)return!1;if(o)return t=s.call(t),e=s.call(e),g(t,e,n);var a,c,l=x(t),f=x(e);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(a=l[c],!g(t[a],e[a],n,r))return!1;return!0}(t,e,n,u))}return n?t===e:t==e}function b(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function _(t,e,n,r){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!o&&y(o,n,"Missing expected exception"+r);var u="string"==typeof r,s=!t&&o&&!n;if((!t&&i.isError(o)&&u&&w(o,n)||s)&&y(o,n,"Got unwanted exception"+r),t&&o&&n&&!w(o,n)||!t&&o)throw o}f.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=p(d((e=this).actual),128)+" "+e.operator+" "+p(d(e.expected),128),this.generatedMessage=!0);var n=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var o=r.stack,i=v(n),u=o.indexOf("\n"+i);if(u>=0){var s=o.indexOf("\n",u+1);o=o.substring(s+1)}this.stack=o}}},i.inherits(f.AssertionError,Error),f.fail=y,f.ok=m,f.equal=function(t,e,n){t!=e&&y(t,e,n,"==",f.equal)},f.notEqual=function(t,e,n){t==e&&y(t,e,n,"!=",f.notEqual)},f.deepEqual=function(t,e,n){g(t,e,!1)||y(t,e,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(t,e,n){g(t,e,!0)||y(t,e,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(t,e,n){g(t,e,!1)&&y(t,e,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function t(e,n,r){g(e,n,!0)&&y(e,n,r,"notDeepStrictEqual",t)},f.strictEqual=function(t,e,n){t!==e&&y(t,e,n,"===",f.strictEqual)},f.notStrictEqual=function(t,e,n){t===e&&y(t,e,n,"!==",f.notStrictEqual)},f.throws=function(t,e,n){_(!0,t,e,n)},f.doesNotThrow=function(t,e,n){_(!1,t,e,n)},f.ifError=function(t){if(t)throw t};var x=Object.keys||function(t){var e=[];for(var n in t)u.call(t,n)&&e.push(n);return e}}).call(this,n(41))},,function(t,e,n){var r=n(223),o=n(315),i=n(227);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e,n){var r=n(168),o=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},function(t,e,n){var r=n(241),o=n(242);t.exports=function(t,e,n,i){var u=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var c=e[s],l=i?i(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),u?o(n,c,l):r(n,c,l)}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Matrix=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(270)),i=n(154),u=n(161);var s=function(){try{return n(140)}catch(t){return null}}();function a(t,e,n,r){for(var o=t.elements,i=r-1;i--;){for(var u=[],s=0;s<n;s++)u.push(s===i?1:0);o.unshift(u)}for(var a=r-1;a<e;a++)for(;o[a].length<n;)o[a].unshift(0);return c.create(o)}var c=e.Matrix=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"solve",value:function(t){var e=this.lu();t=e.P.x(t);var n=e.L.forwardSubstitute(t),r=e.U.backSubstitute(n);return e.P.x(r)}},{key:"pcaProject",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e=this,n=e.transpose().x(e).x(1/e.rows()).svd(),{U:n.U,S:n.S}).U,o=r.slice(1,r.rows(),1,t);return{Z:this.x(o),U:r}}},{key:"pcaRecover",value:function(t){var e=this.cols(),n=t.slice(1,t.rows(),1,e);return this.x(n.transpose())}},{key:"triu",value:function(t){return t||(t=0),this.map(function(e,n,r){return r-n>=t?e:0})}},{key:"unroll",value:function(){for(var t=[],e=1;e<=this.cols();e++)for(var n=1;n<=this.rows();n++)t.push(this.e(n,e));return u.Vector.create(t)}},{key:"slice",value:function(e,n,r,o){var i=[];0===n&&(n=this.rows()),0===o&&(o=this.cols());for(var u=e;u<=n;u++){for(var s=[],a=r;a<=o;a++)s.push(this.e(u,a));i.push(s)}return t.create(i)}},{key:"e",value:function(t,e){return t<1||t>this.elements.length||e<1||e>this.elements[0].length?null:this.elements[t-1][e-1]}},{key:"row",value:function(t){return t>this.elements.length?null:u.Vector.create(this.elements[t-1])}},{key:"col",value:function(t){if(t>this.elements[0].length)return null;for(var e=[],n=this.elements.length,r=0;r<n;r++)e.push(this.elements[r][t-1]);return u.Vector.create(e)}},{key:"dimensions",value:function(){return{rows:this.elements.length,cols:this.elements[0].length}}},{key:"rows",value:function(){return this.elements.length}},{key:"cols",value:function(){return this.elements[0].length}},{key:"approxEql",value:function(t){return this.eql(t,i.Sylvester.approxPrecision)}},{key:"eql",value:function(e,n){var r=e.elements||e;if(void 0===r[0][0]&&(r=t.create(r).elements),this.elements.length!==r.length||this.elements[0].length!==r[0].length)return!1;for(var o=this.elements.length,u=this.elements[0].length,s=void 0;o--;)for(s=u;s--;)if(Math.abs(this.elements[o][s]-r[o][s])>(n||i.Sylvester.precision))return!1;return!0}},{key:"dup",value:function(){return t.create(this.elements)}},{key:"map",value:function(e){for(var n=[],r=this.elements.length,o=this.elements[0].length,i=void 0;r--;)for(i=o,n[r]=[];i--;)n[r][i]=e(this.elements[r][i],r+1,i+1);return t.create(n)}},{key:"isSameSizeAs",value:function(e){var n=e.elements||e;return void 0===n[0][0]&&(n=t.create(n).elements),this.elements.length===n.length&&this.elements[0].length===n[0].length}},{key:"add",value:function(e){if("number"==typeof e)return this.map(function(t){return t+e});var n=e.elements||e;return void 0===n[0][0]&&(n=t.create(n).elements),this.isSameSizeAs(n)?this.map(function(t,e,r){return t+n[e-1][r-1]}):null}},{key:"subtract",value:function(e){if("number"==typeof e)return this.map(function(t){return t-e});var n=e.elements||e;return void 0===n[0][0]&&(n=t.create(n).elements),this.isSameSizeAs(n)?this.map(function(t,e,r){return t-n[e-1][r-1]}):null}},{key:"canMultiplyFromLeft",value:function(e){var n=e.elements||e;return void 0===n[0][0]&&(n=t.create(n).elements),this.elements[0].length===n.length}},{key:"mulOp",value:function(e,n){if(!e.elements)return this.map(function(t){return n(t,e)});var r=Boolean(e.modulus),o=e.elements||e;if(void 0===o[0][0]&&(o=t.create(o).elements),!this.canMultiplyFromLeft(o))return null;for(var i=this.elements,u=void 0,s=void 0,a=[],c=void 0,l=i.length,f=o[0].length,h=i[0].length,v=l,p=void 0,d=void 0;v--;){for(s=[],u=i[v],p=f;p--;){for(c=0,d=h;d--;)c+=n(u[d],o[d][p]);s[p]=c}a[v]=s}var y=t.create(a);return r?y.col(1):y}},{key:"div",value:function(t){return this.mulOp(t,function(t,e){return t/e})}},{key:"multiply",value:function(t){return this.mulOp(t,function(t,e){return t*e})}},{key:"x",value:function(t){return this.multiply(t)}},{key:"elementMultiply",value:function(t){return this.map(function(e,n,r){return t.e(n,r)*e})}},{key:"sum",value:function(){var t=0;return this.map(function(e){t+=e}),t}},{key:"mean",value:function(){for(var t=this.dimensions(),e=[],n=1;n<=t.cols;n++)e.push(this.col(n).sum()/t.rows);return u.Vector.create(e)}},{key:"std",value:function(){for(var t=this.dimensions(),e=this.mean(),n=[],r=1;r<=t.cols;r++){var o=this.col(r).subtract(e.e(r));o=o.multiply(o),n.push(Math.sqrt(o.sum()/t.rows))}return u.Vector.create(n)}},{key:"column",value:function(t){return this.col(t)}},{key:"log",value:function(){return this.map(function(t){return Math.log(t)})}},{key:"minor",value:function(e,n,r,o){for(var i=[],u=r,s=void 0,a=void 0,c=void 0,l=this.elements.length,f=this.elements[0].length;u--;)for(i[s=r-u-1]=[],a=o;a--;)c=o-a-1,i[s][c]=this.elements[(e+s-1)%l][(n+c-1)%f];return t.create(i)}},{key:"transpose",value:function(){for(var e=this.elements.length,n=[],r=this.elements[0].length,o=void 0;r--;)for(o=e,n[r]=[];o--;)n[r][o]=this.elements[o][r];return t.create(n)}},{key:"isSquare",value:function(){return this.elements.length===this.elements[0].length}},{key:"max",value:function(){for(var t=0,e=this.elements.length,n=this.elements[0].length,r=void 0;e--;)for(r=n;r--;)Math.abs(this.elements[e][r])>Math.abs(t)&&(t=this.elements[e][r]);return t}},{key:"indexOf",value:function(t){var e=this.elements.length,n=void 0,r=this.elements[0].length,o=void 0;for(n=0;n<e;n++)for(o=0;o<r;o++)if(this.elements[n][o]===t)return{i:n+1,j:o+1};return null}},{key:"diagonal",value:function(){if(!this.isSquare)return null;for(var t=[],e=this.elements.length,n=0;n<e;n++)t.push(this.elements[n][n]);return u.Vector.create(t)}},{key:"toRightTriangular",value:function(){var t=this.dup(),e=void 0,n=this.elements.length,r=void 0,o=void 0,i=this.elements[0].length,u=void 0;for(r=0;r<n;r++){if(0===t.elements[r][r])for(o=r+1;o<n;o++)if(0!==t.elements[o][r]){for(e=[],u=0;u<i;u++)e.push(t.elements[r][u]+t.elements[o][u]);t.elements[r]=e;break}if(0!==t.elements[r][r])for(o=r+1;o<n;o++){var s=t.elements[o][r]/t.elements[r][r];for(e=[],u=0;u<i;u++)e.push(u<=r?0:t.elements[o][u]-t.elements[r][u]*s);t.elements[o]=e}}return t}},{key:"toUpperTriangular",value:function(){return this.toRightTriangular()}},{key:"determinant",value:function(){if(!this.isSquare())return null;if(1===this.cols&&1===this.rows)return this.row(1);if(0===this.cols&&0===this.rows)return 1;for(var t=this.toRightTriangular(),e=t.elements[0][0],n=t.elements.length,r=1;r<n;r++)e*=t.elements[r][r];return e}},{key:"det",value:function(){return this.determinant()}},{key:"isSingular",value:function(){return this.isSquare()&&0===this.determinant()}},{key:"trace",value:function(){if(!this.isSquare())return null;for(var t=this.elements[0][0],e=this.elements.length,n=1;n<e;n++)t+=this.elements[n][n];return t}},{key:"tr",value:function(){return this.trace()}},{key:"rank",value:function(){for(var t=this.toRightTriangular(),e=0,n=this.elements.length,r=this.elements[0].length,o=void 0;n--;)for(o=r;o--;)if(Math.abs(t.elements[n][o])>i.Sylvester.precision){e++;break}return e}},{key:"rk",value:function(){return this.rank()}},{key:"augment",value:function(e){var n=e.elements||e;void 0===n[0][0]&&(n=t.create(n).elements);var r=this.dup(),o=r.elements[0].length,i=r.elements.length,u=n[0].length,s=void 0;if(i!==n.length)return null;for(;i--;)for(s=u;s--;)r.elements[i][o+s]=n[i][s];return r}},{key:"inverse",value:function(){if(!this.isSquare()||this.isSingular())return null;for(var e=this.elements.length,n=e,r=void 0,o=this.augment(t.I(e)).toRightTriangular(),i=o.elements[0].length,u=void 0,s=void 0,a=void 0,c=[],l=void 0;n--;){for(s=[],c[n]=[],a=o.elements[n][n],u=0;u<i;u++)l=o.elements[n][u]/a,s.push(l),u>=e&&c[n].push(l);for(o.elements[n]=s,r=n;r--;){for(s=[],u=0;u<i;u++)s.push(o.elements[r][u]-o.elements[n][u]*o.elements[r][n]);o.elements[r]=s}}return t.create(c)}},{key:"inv",value:function(){return this.inverse()}},{key:"round",value:function(){return this.map(function(t){return Math.round(t)})}},{key:"snapTo",value:function(t){return this.map(function(e){return Math.abs(e-t)<=i.Sylvester.precision?t:e})}},{key:"inspect",value:function(){for(var t=[],e=this.elements.length,n=0;n<e;n++)t.push(u.Vector.create(this.elements[n]).inspect());return t.join("\n")}},{key:"toArray",value:function(){for(var t=[],e=this.elements.length,n=0;n<e;n++)t.push(this.elements[n]);return t}},{key:"setElements",value:function(t){var e=void 0,n=void 0,r=t.elements||t;if(void 0!==r[0][0]){for(e=r.length,this.elements=[];e--;)for(n=r[e].length,this.elements[e]=[];n--;)this.elements[e][n]=r[e][n];return this}var o=r.length;for(this.elements=[],e=0;e<o;e++)this.elements.push([r[e]]);return this}},{key:"maxColumnIndexes",value:function(){for(var t=[],e=1;e<=this.rows();e++){for(var n=null,r=-1,o=1;o<=this.cols();o++)(null===n||this.e(e,o)>n)&&(n=this.e(e,o),r=o);t.push(r)}return u.Vector.create(t)}},{key:"maxColumns",value:function(){for(var t=[],e=1;e<=this.rows();e++){for(var n=null,r=1;r<=this.cols();r++)(null===n||this.e(e,r)>n)&&(n=this.e(e,r));t.push(n)}return u.Vector.create(t)}},{key:"minColumnIndexes",value:function(){for(var t=[],e=1;e<=this.rows();e++){for(var n=null,r=-1,o=1;o<=this.cols();o++)(null===n||this.e(e,o)<n)&&(n=this.e(e,o),r=o);t.push(r)}return u.Vector.create(t)}},{key:"minColumns",value:function(){for(var t=[],e=1;e<=this.rows();e++){for(var n=null,r=1;r<=this.cols();r++)(null===n||this.e(e,r)<n)&&(n=this.e(e,r));t.push(n)}return u.Vector.create(t)}},{key:"partialPivot",value:function(t,e,n,r){for(var o=0,i=0,u=t;u<=r.rows();u++)Math.abs(r.e(u,e))>i&&(i=Math.abs(r.e(t,e)),o=u);if(o!==t){var s=r.elements[t-1];r.elements[t-1]=r.elements[o-1],r.elements[o-1]=s,n.elements[t-1][t-1]=0,n.elements[t-1][o-1]=1,n.elements[o-1][o-1]=0,n.elements[o-1][t-1]=1}return n}},{key:"forwardSubstitute",value:function(t){for(var e=[],n=1;n<=this.rows();n++){for(var r=0,o=1;o<n;o++)r+=this.e(n,o)*e[o-1];e.push((t.e(n)-r)/this.e(n,n))}return u.Vector.create(e)}},{key:"backSubstitute",value:function(t){for(var e=[],n=this.rows();n>0;n--){for(var r=0,o=this.cols();o>n;o--)r+=this.e(n,o)*e[this.rows()-o];e.push((t.e(n)-r)/this.e(n,n))}return u.Vector.create(e.reverse())}},{key:"svdJs",value:function(){for(var e=this,n=t.I(e.rows()),r=e.transpose(),o=t.I(e.cols()),i=Number.MAX_VALUE,s=0;i>2.2737e-13&&s<100;){var a=r.transpose().qrJs();r=a.R,n=n.x(a.Q),a=r.transpose().qrJs(),o=o.x(a.Q);var c=(r=a.R).triu(1).unroll().norm(),l=r.diagonal().norm();0===l&&(l=1),i=c/l,s++}for(var f=r.diagonal(),h=[],v=1;v<=f.cols();v++){var p=f.e(v);if(h.push(Math.abs(p)),p<0)for(var d=0;d<o.rows();d++)n.elements[d][v-1]=-n.elements[d][v-1]}return{U:o,S:u.Vector.create(h).toDiagonalMatrix(),V:n}}},{key:"svdPack",value:function(){var e=s.sgesvd("A","A",this.elements);return{U:t.create(e.U),S:t.create(e.S).column(1).toDiagonalMatrix(),V:t.create(e.VT).transpose()}}},{key:"qrJs",value:function(){for(var e=this.rows(),n=this.cols(),r=t.I(e),o=this,i=1;i<Math.min(e,n);i++){for(var s=o.slice(i,0,i,i).col(1),c=[1];c.length<=e-i;)c.push(0);c=u.Vector.create(c);var l=s.add(c.x(s.norm()*(s.e(1)<0?-1:1))),f=t.create(l),h=a(t.I(e-i+1).subtract(f.x(2).x(f.transpose()).div(f.transpose().x(f).e(1,1))),e,n,i);o=h.x(o),r=r.x(h)}return{Q:r,R:o}}},{key:"qrPack",value:function(){var e=s.qr(this.elements);return{Q:t.create(e.Q),R:t.create(e.R)}}},{key:"luPack",value:function(){var e=s.lu(this.elements);return{L:t.create(e.L),U:t.create(e.U),P:t.create(e.P)}}},{key:"luJs",value:function(){for(var e=this.dup(),n=t.I(e.rows()),r=t.I(e.rows()),o=t.Zeros(e.rows(),e.cols()),i=1,u=1;u<=Math.min(e.cols(),e.rows());u++){r=e.partialPivot(u,i,r,e,n);for(var s=u+1;s<=e.rows();s++){var a=e.e(s,i)/e.e(u,i);n.elements[s-1][u-1]=a;for(var c=u+1;c<=e.cols();c++)e.elements[s-1][c-1]-=e.e(u,c)*a}for(var l=u;l<=e.cols();l++)o.elements[u-1][l-1]=e.e(u,l);i<e.cols()&&i++}return{L:n,U:o,P:r}}}],[{key:"create",value:function(e){return(new t).setElements(e)}},{key:"I",value:function(e){for(var n=[],r=e,o=void 0;r--;)for(o=e,n[r]=[];o--;)n[r][o]=r===o?1:0;return t.create(n)}},{key:"loadFile",value:function(e){for(var n=[],r=o.readFileSync(e,"utf-8").split("\n"),i=0;i<r.length;i++){var u=r[i].split(",");u.length>1&&n.push(u)}return(new t).setElements(n)}},{key:"Diagonal",value:function(e){for(var n=e.length,r=t.I(n);n--;)r.elements[n][n]=e[n];return r}},{key:"Rotation",value:function(e,n){if(!n)return t.create([[Math.cos(e),-Math.sin(e)],[Math.sin(e),Math.cos(e)]]);var r=n.dup();if(3!==r.elements.length)return null;var o=r.modulus(),i=r.elements[0]/o,u=r.elements[1]/o,s=r.elements[2]/o,a=Math.sin(e),c=Math.cos(e),l=1-c;return t.create([[l*i*i+c,l*i*u-a*s,l*i*s+a*u],[l*i*u+a*s,l*u*u+c,l*u*s-a*i],[l*i*s-a*u,l*u*s+a*i,l*s*s+c]])}},{key:"RotationX",value:function(e){var n=Math.cos(e),r=Math.sin(e);return t.create([[1,0,0],[0,n,-r],[0,r,n]])}},{key:"RotationY",value:function(e){var n=Math.cos(e),r=Math.sin(e);return t.create([[n,0,r],[0,1,0],[-r,0,n]])}},{key:"RotationZ",value:function(e){var n=Math.cos(e),r=Math.sin(e);return t.create([[n,-r,0],[r,n,0],[0,0,1]])}},{key:"Random",value:function(e,n){return 1===arguments.length&&(n=e),t.Zero(e,n).map(function(){return Math.random()})}},{key:"Fill",value:function(e,n,r){2===arguments.length&&(r=n,n=e);for(var o=[],i=e,u=void 0;i--;)for(u=n,o[i]=[];u--;)o[i][u]=r;return t.create(o)}},{key:"Zero",value:function(e,n){return t.Fill(e,n,0)}},{key:"Zeros",value:function(e,n){return t.Zero(e,n)}},{key:"One",value:function(e,n){return t.Fill(e,n,1)}},{key:"Ones",value:function(e,n){return t.One(e,n)}}]),t}();s?(c.prototype.svd=c.prototype.svdPack,c.prototype.qr=c.prototype.qrPack,c.prototype.lu=c.prototype.luPack):(c.prototype.svd=c.prototype.svdJs,c.prototype.qr=c.prototype.qrJs,c.prototype.lu=c.prototype.luJs)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vector=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(154),i=n(160);var u=e.Vector=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements=e}return r(t,[{key:"magnitude",value:function(){for(var t=0,e=0;e<this.elements.length;e++)t+=this.elements[e]*this.elements[e];return Math.sqrt(t)}},{key:"e",value:function(t){return t<1||t>this.elements.length?null:this.elements[t-1]}},{key:"dimensions",value:function(){return{rows:1,cols:this.elements.length}}},{key:"rows",value:function(){return 1}},{key:"cols",value:function(){return this.elements.length}},{key:"eql",value:function(t){var e=this.elements.length,n=t.elements||t;if(e!==n.length)return!1;for(;e--;)if(Math.abs(this.elements[e]-n[e])>o.Sylvester.precision)return!1;return!0}},{key:"map",value:function(e){for(var n=this.elements.length,r=new Array(n),o=0;o<n;o++)r[o]=e(this.elements[o],o+1);return new t(r)}},{key:"each",value:function(t){for(var e=this.elements.length,n=0;n<e;n++)t(this.elements[n],n+1)}},{key:"toUnitVector",value:function(){var t=this.modulus();return 0===t?this.dup():this.map(function(e){return e/t})}},{key:"angleFrom",value:function(t){var e=t.elements||t;if(this.elements.length!==e.length)throw new o.DimensionalityMismatchError("Cannot compute the angle between vectors with different dimensionality");var n=0,r=0,i=0;if(this.each(function(t,o){n+=t*e[o-1],r+=t*t,i+=e[o-1]*e[o-1]}),r=Math.sqrt(r),i=Math.sqrt(i),r*i==0)return NaN;var u=n/(r*i);return u<-1&&(u=-1),u>1&&(u=1),Math.acos(u)}},{key:"isParallelTo",value:function(t){var e=this.angleFrom(t);return null!==e&&e<=o.Sylvester.precision}},{key:"isAntiparallelTo",value:function(t){var e=this.angleFrom(t);return null!==e&&Math.abs(e-Math.PI)<=o.Sylvester.precision}},{key:"isPerpendicularTo",value:function(t){return Math.abs(this.dot(t))<=o.Sylvester.precision}},{key:"_runBinaryOp",value:function(t,e){if("number"==typeof t)return this.map(function(n){return e(n,t)});var n=t.elements||t;if(this.elements.length!==n.length)throw new o.DimensionalityMismatchError("Cannot add vectors with different dimensions.");return this.map(function(t,r){return e(t,n[r-1])})}},{key:"add",value:function(t){return this._runBinaryOp(t,function(t,e){return t+e})}},{key:"subtract",value:function(t){return this._runBinaryOp(t,function(t,e){return t-e})}},{key:"multiply",value:function(t){return this._runBinaryOp(t,function(t,e){return t*e})}},{key:"sum",value:function(){var t=0;return this.each(function(e){t+=e}),t}},{key:"chomp",value:function(e){for(var n=[],r=e;r<this.elements.length;r++)n.push(this.elements[r]);return t.create(n)}},{key:"top",value:function(e){for(var n=[],r=0;r<e;r++)n.push(this.elements[r]);return t.create(n)}},{key:"augment",value:function(e){return t.create(this.elements.concat(e.elements||e))}},{key:"x",value:function(t){return this.multiply(t)}},{key:"log",value:function(){return t.log(this)}},{key:"product",value:function(){var t=1;return this.each(function(e){t*=e}),t}},{key:"dot",value:function(t){var e=t.elements||t,n=this.elements.length;if(n!==e.length)throw new o.DimensionalityMismatchError("Cannot compute the dot product of vectors with different dimensionality");for(var r=0;n--;)r+=this.elements[n]*e[n];return r}},{key:"cross",value:function(e){var n=e.elements||e;if(3!==this.elements.length||3!==n.length)return null;var r=this.elements;return t.create([r[1]*n[2]-r[2]*n[1],r[2]*n[0]-r[0]*n[2],r[0]*n[1]-r[1]*n[0]])}},{key:"max",value:function(){for(var t=0,e=this.elements.length;e--;)Math.abs(this.elements[e])>Math.abs(t)&&(t=this.elements[e]);return t}},{key:"maxIndex",value:function(){for(var t=0,e=this.elements.length,n=-1;e--;)Math.abs(this.elements[e])>Math.abs(t)&&(t=this.elements[e],n=e+1);return n}},{key:"indexOf",value:function(t){for(var e=null,n=this.elements.length,r=0;r<n;r++)null===e&&this.elements[r]===t&&(e=r+1);return e}},{key:"toDiagonalMatrix",value:function(){return i.Matrix.Diagonal(this.elements)}},{key:"round",value:function(){return this.map(function(t){return Math.round(t)})}},{key:"transpose",value:function(){for(var t=this.elements.length,e=[],n=0;n<t;n++)e.push([this.elements[n]]);return i.Matrix.create(e)}},{key:"snapTo",value:function(t){return this.map(function(e){return Math.abs(e-t)<=o.Sylvester.precision?t:e})}},{key:"distanceFrom",value:function(t){if(t.anchor||t.start&&t.end)return t.distanceFrom(this);var e=t.elements||t;if(e.length!==this.elements.length)return null;var n=0,r=void 0;return this.each(function(t,o){r=t-e[o-1],n+=r*r}),Math.sqrt(n)}},{key:"liesOn",value:function(t){return t.contains(this)}},{key:"liesIn",value:function(t){return t.contains(this)}},{key:"rotate",value:function(e,n){var r=void 0,o=null,u=void 0,s=void 0,a=void 0,c=void 0;switch(e.determinant&&(o=e.elements),this.elements.length){case 2:return 2!==(r=n.elements||n).length?null:(o||(o=i.Matrix.Rotation(e).elements),u=this.elements[0]-r[0],s=this.elements[1]-r[1],t.create([r[0]+o[0][0]*u+o[0][1]*s,r[1]+o[1][0]*u+o[1][1]*s]));case 3:return n.direction?(c=n.pointClosestTo(this).elements,o||(o=i.Matrix.Rotation(e,n.direction).elements),u=this.elements[0]-c[0],s=this.elements[1]-c[1],a=this.elements[2]-c[2],t.create([c[0]+o[0][0]*u+o[0][1]*s+o[0][2]*a,c[1]+o[1][0]*u+o[1][1]*s+o[1][2]*a,c[2]+o[2][0]*u+o[2][1]*s+o[2][2]*a])):null;default:return null}}},{key:"reflectionIn",value:function(e){if(e.anchor){var n=this.elements.slice(),r=e.pointClosestTo(n).elements;return t.create([r[0]+(r[0]-n[0]),r[1]+(r[1]-n[1]),r[2]+(r[2]-(n[2]||0))])}var o=e.elements||e;return this.elements.length!==o.length?null:this.map(function(t,e){return o[e-1]+(o[e-1]-t)})}},{key:"to3D",value:function(){var t=this.dup();switch(t.elements.length){case 3:break;case 2:t.elements.push(0);break;default:return null}return t}},{key:"inspect",value:function(){return"Vector<["+this.elements.join(", ")+"]>"}},{key:"setElements",value:function(t){return this.elements=(t.elements||t).slice(),this}},{key:"toJSON",value:function(){return this.elements}}],[{key:"create",value:function(e){return(new t).setElements(e)}},{key:"Random",value:function(e){for(var n=[];e--;)n.push(Math.random());return t.create(n)}},{key:"Fill",value:function(e,n){for(var r=[];e--;)r.push(n);return t.create(r)}},{key:"Zero",value:function(e){return t.Fill(e,0)}},{key:"One",value:function(e){return t.Fill(e,1)}},{key:"log",value:function(t){return t.map(function(t){return Math.log(t)})}}]),t}();u.i=u.create([1,0,0]),u.j=u.create([0,1,0]),u.k=u.create([0,0,1]),u.prototype.modulus=u.prototype.magnitude,u.prototype.norm=u.prototype.magnitude,u.prototype.dup=function(){return this.map(function(t){return t})}},function(t,e,n){var r=n(276),o=n(277),i=n(278),u=n(279),s=n(280);function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=u,a.prototype.set=s,t.exports=a},function(t,e,n){var r=n(176);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(146)(Object,"create");t.exports=r},function(t,e,n){var r=n(300);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(317),o=n(177),i=n(318),u=n(228),s=n(319),a=n(151),c=n(215),l=c(r),f=c(o),h=c(i),v=c(u),p=c(s),d=a;(r&&"[object DataView]"!=d(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=d(new o)||i&&"[object Promise]"!=d(i.resolve())||u&&"[object Set]"!=d(new u)||s&&"[object WeakMap]"!=d(new s))&&(d=function(t){var e=a(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case v:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=d},function(t,e,n){var r=n(151),o=n(145),i="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||o(t)&&r(t)==i}},function(t,e,n){var r=n(143),o=n(190),i=n(326),u=n(329);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(u(t))}},,,function(t,e,n){"use strict";var r=n(256),o=n(208);t.exports=n(257)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(o(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(o(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){var r=n(4),o=n(209)(!1);r(r.S,"Object",{values:function(t){return o(t)}})},function(t,e,n){var r=n(275),o=n(145);t.exports=function t(e,n,i,u,s){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,u,t,s))}},function(t,e,n){var r=n(162),o=n(281),i=n(282),u=n(283),s=n(284),a=n(285);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=u,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(146)(n(144),"Map");t.exports=r},function(t,e,n){var r=n(292),o=n(299),i=n(301),u=n(302),s=n(303);function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=u,a.prototype.set=s,t.exports=a},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(310),o=n(222),i=Object.prototype.propertyIsEnumerable,u=Object.getOwnPropertySymbols,s=u?function(t){return null==t?[]:(t=Object(t),r(u(t),function(e){return i.call(t,e)}))}:o;t.exports=s},function(t,e,n){var r=n(312),o=n(145),i=Object.prototype,u=i.hasOwnProperty,s=i.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(t){return o(t)&&u.call(t,"callee")&&!s.call(t,"callee")};t.exports=a},function(t,e,n){(function(t){var r=n(144),o=n(313),i=e&&!e.nodeType&&e,u=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=u&&u.exports===i?r.Buffer:void 0,a=(s?s.isBuffer:void 0)||o;t.exports=a}).call(this,n(166)(t))},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(214),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=i&&i.exports===o&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=s}).call(this,n(166)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(189);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},function(t,e,n){var r=n(169),o=n(158);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){var r=n(143),o=n(168),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||u.test(t)||!i.test(t)||null!=e&&t in Object(e)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(229),o=n(343);t.exports=function(t,e){return t&&t.length?o(t,r(e,2)):0}},function(t,e,n){var r=n(226)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(219);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},,,,,,,,,,,,,,function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r=n(18),o=n(19),i=n(32).f;t.exports=function(t){return function(e){for(var n,u=o(e),s=r(u),a=s.length,c=0,l=[];a>c;)i.call(u,n=s[c++])&&l.push(t?[n,u[n]]:u[n]);return l}}},function(t,e,n){var r=n(4),o=n(209)(!0);r(r.S,"Object",{entries:function(t){return o(t)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Plane=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(212),i=n(160),u=n(154),s=n(161);var a=e.Plane=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"eql",value:function(t){return this.contains(t.anchor)&&this.isParallelTo(t)}},{key:"dup",value:function(){return t.create(this.anchor,this.normal)}},{key:"translate",value:function(e){var n=e.elements||e;return t.create([this.anchor.elements[0]+n[0],this.anchor.elements[1]+n[1],this.anchor.elements[2]+(n[2]||0)],this.normal)}},{key:"isParallelTo",value:function(t){var e=void 0;return t.normal?(e=this.normal.angleFrom(t.normal),Math.abs(e)<=u.Sylvester.precision||Math.abs(Math.PI-e)<=u.Sylvester.precision):t.direction?this.normal.isPerpendicularTo(t.direction):null}},{key:"isPerpendicularTo",value:function(t){var e=this.normal.angleFrom(t.normal);return Math.abs(Math.PI/2-e)<=u.Sylvester.precision}},{key:"distanceFrom",value:function(t){if(this.intersects(t)||this.contains(t))return 0;if(t.anchor){var e=this.anchor.elements,n=t.anchor.elements,r=this.normal.elements;return Math.abs((e[0]-n[0])*r[0]+(e[1]-n[1])*r[1]+(e[2]-n[2])*r[2])}var o=t.elements||t,i=this.anchor.elements,u=this.normal.elements;return Math.abs((i[0]-o[0])*u[0]+(i[1]-o[1])*u[1]+(i[2]-(o[2]||0))*u[2])}},{key:"contains",value:function(t){if(t.normal)return null;if(t.direction)return this.contains(t.anchor)&&this.contains(t.anchor.add(t.direction));var e=t.elements||t,n=this.anchor.elements,r=this.normal.elements;return Math.abs(r[0]*(n[0]-e[0])+r[1]*(n[1]-e[1])+r[2]*(n[2]-(e[2]||0)))<=u.Sylvester.precision}},{key:"intersects",value:function(t){return void 0===t.direction&&void 0===t.normal?null:!this.isParallelTo(t)}},{key:"intersectionWith",value:function(t){if(!this.intersects(t))return null;if(t.direction){var e=t.anchor.elements,n=t.direction.elements,r=this.anchor.elements,u=this.normal.elements,a=(u[0]*(r[0]-e[0])+u[1]*(r[1]-e[1])+u[2]*(r[2]-e[2]))/(u[0]*n[0]+u[1]*n[1]+u[2]*n[2]);return s.Vector.create([e[0]+n[0]*a,e[1]+n[1]*a,e[2]+n[2]*a])}if(t.normal){for(var c=this.normal.cross(t.normal).toUnitVector(),l=this.normal.elements,f=this.anchor.elements,h=t.normal.elements,v=t.anchor.elements,p=i.Matrix.Zero(2,2),d=0;p.isSingular();)d++,p=i.Matrix.create([[l[d%3],l[(d+1)%3]],[h[d%3],h[(d+1)%3]]]);for(var y=p.inverse().elements,m=l[0]*f[0]+l[1]*f[1]+l[2]*f[2],g=h[0]*v[0]+h[1]*v[1]+h[2]*v[2],b=[y[0][0]*m+y[0][1]*g,y[1][0]*m+y[1][1]*g],w=[],_=1;_<=3;_++)w.push(d===_?0:b[(_+(5-d)%3)%3]);return o.Line.create(w,c)}return null}},{key:"pointClosestTo",value:function(t){var e=t.elements||t,n=this.anchor.elements,r=this.normal.elements,o=(n[0]-e[0])*r[0]+(n[1]-e[1])*r[1]+(n[2]-(e[2]||0))*r[2];return s.Vector.create([e[0]+r[0]*o,e[1]+r[1]*o,(e[2]||0)+r[2]*o])}},{key:"rotate",value:function(e,n){var r=e.determinant?e.elements:i.Matrix.Rotation(e,n.direction).elements,o=n.pointClosestTo(this.anchor).elements,u=this.anchor.elements,s=this.normal.elements,a=o[0],c=o[1],l=o[2],f=u[0]-a,h=u[1]-c,v=u[2]-l;return t.create([a+r[0][0]*f+r[0][1]*h+r[0][2]*v,c+r[1][0]*f+r[1][1]*h+r[1][2]*v,l+r[2][0]*f+r[2][1]*h+r[2][2]*v],[r[0][0]*s[0]+r[0][1]*s[1]+r[0][2]*s[2],r[1][0]*s[0]+r[1][1]*s[1]+r[1][2]*s[2],r[2][0]*s[0]+r[2][1]*s[1]+r[2][2]*s[2]])}},{key:"reflectionIn",value:function(e){if(e.normal){var n=this.anchor.elements,r=this.normal.elements,o=n[0],i=n[1],u=n[2],s=r[0],a=r[1],c=r[2],l=this.anchor.reflectionIn(e).elements,f=o+s,h=i+a,v=u+c,p=e.pointClosestTo([f,h,v]).elements,d=[p[0]+(p[0]-f)-l[0],p[1]+(p[1]-h)-l[1],p[2]+(p[2]-v)-l[2]];return t.create(l,d)}if(e.direction)return this.rotate(Math.PI,e);var y=e.elements||e;return t.create(this.anchor.reflectionIn([y[0],y[1],y[2]||0]),this.normal)}},{key:"setVectors",value:function(t,e,n){if(null===(t=(t=s.Vector.create(t)).to3D()))return null;if(null===(e=(e=s.Vector.create(e)).to3D()))return null;if(void 0===n)n=null;else if(null===(n=(n=s.Vector.create(n)).to3D()))return null;var r=t.elements[0],o=t.elements[1],i=t.elements[2],u=e.elements[0],a=e.elements[1],c=e.elements[2],l=void 0,f=void 0;if(null===n){if(0===(f=Math.sqrt(u*u+a*a+c*c)))return null;l=s.Vector.create([e.elements[0]/f,e.elements[1]/f,e.elements[2]/f])}else{var h=n.elements[0],v=n.elements[1],p=n.elements[2];if(0===(f=(l=s.Vector.create([(a-o)*(p-i)-(c-i)*(v-o),(c-i)*(h-r)-(u-r)*(p-i),(u-r)*(v-o)-(a-o)*(h-r)])).modulus()))return null;l=s.Vector.create([l.elements[0]/f,l.elements[1]/f,l.elements[2]/f])}return this.anchor=t,this.normal=l,this}}],[{key:"create",value:function(e,n,r){return(new t).setVectors(e,n,r)}},{key:"fromPoints",value:function(e){var n=e.length,r=[],o=void 0,i=void 0,a=void 0,c=void 0,l=void 0,f=void 0,h=void 0,v=void 0,p=void 0,d=s.Vector.Zero(3);for(o=0;o<n;o++){if(null===(i=s.Vector.create(e[o]).to3D()))return null;if(r.push(i),(a=r.length)>2){if(l=r[a-1].elements,f=r[a-2].elements,h=r[a-3].elements,c=s.Vector.create([(l[1]-f[1])*(h[2]-f[2])-(l[2]-f[2])*(h[1]-f[1]),(l[2]-f[2])*(h[0]-f[0])-(l[0]-f[0])*(h[2]-f[2]),(l[0]-f[0])*(h[1]-f[1])-(l[1]-f[1])*(h[0]-f[0])]).toUnitVector(),a>3&&null!==(v=c.angleFrom(p))&&!(Math.abs(v)<=u.Sylvester.precision||Math.abs(v-Math.PI)<=u.Sylvester.precision))return null;d=d.add(c),p=c}}l=r[1].elements,f=r[0].elements,h=r[a-1].elements;var y=r[a-2].elements;return d=d.add(s.Vector.create([(l[1]-f[1])*(h[2]-f[2])-(l[2]-f[2])*(h[1]-f[1]),(l[2]-f[2])*(h[0]-f[0])-(l[0]-f[0])*(h[2]-f[2]),(l[0]-f[0])*(h[1]-f[1])-(l[1]-f[1])*(h[0]-f[0])]).toUnitVector()).add(s.Vector.create([(f[1]-h[1])*(y[2]-h[2])-(f[2]-h[2])*(y[1]-h[1]),(f[2]-h[2])*(y[0]-h[0])-(f[0]-h[0])*(y[2]-h[2]),(f[0]-h[0])*(y[1]-h[1])-(f[1]-h[1])*(y[0]-h[0])]).toUnitVector()),t.create(r[0],d)}}]),t}();a.XY=a.YX=a.create(s.Vector.Zero(3),s.Vector.k),a.YZ=a.ZY=a.create(s.Vector.Zero(3),s.Vector.i),a.ZX=a.XZ=a.create(s.Vector.Zero(3),s.Vector.j)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Segment=e.Line=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(161),i=n(160),u=n(211),s=n(154);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=e.Line=function(){function t(){a(this,t)}return r(t,[{key:"eql",value:function(t){return this.isParallelTo(t)&&this.contains(t.anchor)}},{key:"dup",value:function(){return t.create(this.anchor,this.direction)}},{key:"translate",value:function(e){var n=e.elements||e;return t.create([this.anchor.elements[0]+n[0],this.anchor.elements[1]+n[1],this.anchor.elements[2]+(n[2]||0)],this.direction)}},{key:"isParallelTo",value:function(t){if(t.normal||t.start&&t.end)return t.isParallelTo(this);var e=this.direction.angleFrom(t.direction);return Math.abs(e)<=s.Sylvester.precision||Math.abs(e-Math.PI)<=s.Sylvester.precision}},{key:"distanceFrom",value:function(t){if(t.normal||t.start&&t.end)return t.distanceFrom(this);if(t.direction){if(this.isParallelTo(t))return this.distanceFrom(t.anchor);var e=this.direction.cross(t.direction).toUnitVector().elements,n=this.anchor.elements,r=t.anchor.elements;return Math.abs((n[0]-r[0])*e[0]+(n[1]-r[1])*e[1]+(n[2]-r[2])*e[2])}var o=t.elements||t,i=this.anchor.elements,u=this.direction.elements,s=o[0]-i[0],a=o[1]-i[1],c=(o[2]||0)-i[2],l=Math.sqrt(s*s+a*a+c*c);if(0===l)return 0;var f=(s*u[0]+a*u[1]+c*u[2])/l,h=1-f*f;return Math.abs(l*Math.sqrt(h<0?0:h))}},{key:"contains",value:function(t){if(t.start&&t.end)return this.contains(t.start)&&this.contains(t.end);var e=this.distanceFrom(t);return null!==e&&e<=s.Sylvester.precision}},{key:"positionOf",value:function(t){if(!this.contains(t))return null;var e=t.elements||t,n=this.anchor.elements,r=this.direction.elements;return(e[0]-n[0])*r[0]+(e[1]-n[1])*r[1]+((e[2]||0)-n[2])*r[2]}},{key:"liesIn",value:function(t){return t.contains(this)}},{key:"intersects",value:function(t){return t.normal?t.intersects(this):!this.isParallelTo(t)&&this.distanceFrom(t)<=s.Sylvester.precision}},{key:"intersectionWith",value:function(t){if(t.normal||t.start&&t.end)return t.intersectionWith(this);if(!this.intersects(t))return null;var e=this.anchor.elements,n=this.direction.elements,r=t.anchor.elements,i=t.direction.elements,u=n[0],s=n[1],a=n[2],c=i[0],l=i[1],f=i[2],h=e[0]-r[0],v=e[1]-r[1],p=e[2]-r[2],d=c*c+l*l+f*f,y=u*c+s*l+a*f,m=((-u*h-s*v-a*p)*d/(u*u+s*s+a*a)+y*(c*h+l*v+f*p))/(d-y*y);return o.Vector.create([e[0]+m*u,e[1]+m*s,e[2]+m*a])}},{key:"pointClosestTo",value:function(t){if(t.start&&t.end){var e=t.pointClosestTo(this);return null===e?null:this.pointClosestTo(e)}if(t.direction){if(this.intersects(t))return this.intersectionWith(t);if(this.isParallelTo(t))return null;var n=this.direction.elements,r=t.direction.elements,i=n[0],s=n[1],a=n[2],c=r[0],l=r[1],f=r[2],h=a*c-i*f,v=i*l-s*c,p=s*f-a*l,d=[h*f-v*l,v*c-p*f,p*l-h*c];return u.Plane.create(t.anchor,d).intersectionWith(this)}var y=t.elements||t;if(this.contains(y))return o.Vector.create(y);var m=this.anchor.elements,g=this.direction.elements,b=g[0],w=g[1],_=g[2],x=m[0],k=m[1],j=m[2],O=b*(y[1]-k)-w*(y[0]-x),S=w*((y[2]||0)-j)-_*(y[1]-k),E=_*(y[0]-x)-b*((y[2]||0)-j),P=o.Vector.create([w*O-_*E,_*S-b*O,b*E-w*S]),F=this.distanceFrom(y)/P.modulus();return o.Vector.create([y[0]+P.elements[0]*F,y[1]+P.elements[1]*F,(y[2]||0)+P.elements[2]*F])}},{key:"rotate",value:function(e,n){void 0===n.direction&&(n=t.create(n.to3D(),o.Vector.k));var r=i.Matrix.Rotation(e,n.direction).elements,u=n.pointClosestTo(this.anchor).elements,s=this.anchor.elements,a=this.direction.elements,c=u[0],l=u[1],f=u[2],h=s[0]-c,v=s[1]-l,p=s[2]-f;return t.create([c+r[0][0]*h+r[0][1]*v+r[0][2]*p,l+r[1][0]*h+r[1][1]*v+r[1][2]*p,f+r[2][0]*h+r[2][1]*v+r[2][2]*p],[r[0][0]*a[0]+r[0][1]*a[1]+r[0][2]*a[2],r[1][0]*a[0]+r[1][1]*a[1]+r[1][2]*a[2],r[2][0]*a[0]+r[2][1]*a[1]+r[2][2]*a[2]])}},{key:"reverse",value:function(){return t.create(this.anchor,this.direction.x(-1))}},{key:"reflectionIn",value:function(e){if(e.normal){var n=this.anchor.elements,r=this.direction.elements,o=n[0],i=n[1],u=n[2],s=r[0],a=r[1],c=r[2],l=this.anchor.reflectionIn(e).elements,f=o+s,h=i+a,v=u+c,p=e.pointClosestTo([f,h,v]).elements,d=[p[0]+(p[0]-f)-l[0],p[1]+(p[1]-h)-l[1],p[2]+(p[2]-v)-l[2]];return t.create(l,d)}if(e.direction)return this.rotate(Math.PI,e);var y=e.elements||e;return t.create(this.anchor.reflectionIn([y[0],y[1],y[2]||0]),this.direction)}},{key:"setVectors",value:function(t,e){if(t=o.Vector.create(t),e=o.Vector.create(e),2===t.elements.length&&t.elements.push(0),2===e.elements.length&&e.elements.push(0),t.elements.length>3||e.elements.length>3)return null;var n=e.modulus();return 0===n?null:(this.anchor=t,this.direction=o.Vector.create([e.elements[0]/n,e.elements[1]/n,e.elements[2]/n]),this)}}],[{key:"create",value:function(e,n){return(new t).setVectors(e,n)}}]),t}(),l=e.Segment=function(){function t(){a(this,t)}return r(t,[{key:"eql",value:function(t){return this.start.eql(t.start)&&this.end.eql(t.end)||this.start.eql(t.end)&&this.end.eql(t.start)}},{key:"dup",value:function(){return t.create(this.start,this.end)}},{key:"length",value:function(){var t=this.start.elements,e=this.end.elements,n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+r*r+o*o)}},{key:"toVector",value:function(){var t=this.start.elements,e=this.end.elements;return o.Vector.create([e[0]-t[0],e[1]-t[1],e[2]-t[2]])}},{key:"midpoint",value:function(){var t=this.start.elements,e=this.end.elements;return o.Vector.create([(e[0]+t[0])/2,(e[1]+t[1])/2,(e[2]+t[2])/2])}},{key:"bisectingPlane",value:function(){return u.Plane.create(this.midpoint(),this.toVector())}},{key:"translate",value:function(e){var n=e.elements||e,r=this.start.elements,o=this.end.elements;return t.create([r[0]+n[0],r[1]+n[1],r[2]+(n[2]||0)],[o[0]+n[0],o[1]+n[1],o[2]+(n[2]||0)])}},{key:"isParallelTo",value:function(t){return this.line.isParallelTo(t)}},{key:"distanceFrom",value:function(t){var e=this.pointClosestTo(t);return null===e?null:e.distanceFrom(t)}},{key:"contains",value:function(t){if(t.start&&t.end)return this.contains(t.start)&&this.contains(t.end);var e=(t.elements||t).slice();if(2===e.length&&e.push(0),this.start.eql(e))return!0;var n=this.start.elements,r=o.Vector.create([n[0]-e[0],n[1]-e[1],n[2]-(e[2]||0)]),i=this.toVector();return r.isAntiparallelTo(i)&&r.modulus()<=i.modulus()}},{key:"intersects",value:function(t){return null!==this.intersectionWith(t)}},{key:"intersectionWith",value:function(t){if(!this.line.intersects(t))return null;var e=this.line.intersectionWith(t);return this.contains(e)?e:null}},{key:"pointClosestTo",value:function(t){if(t.normal){var e=this.line.intersectionWith(t);return null===e?null:this.pointClosestTo(e)}var n=this.line.pointClosestTo(t);return null===n?null:this.contains(n)?n:(this.line.positionOf(n)<0?this.start:this.end).dup()}},{key:"setPoints",value:function(t,e){return t=o.Vector.create(t).to3D(),e=o.Vector.create(e).to3D(),null===t||null===e?null:(this.line=c.create(t,e.subtract(t)),this.start=t,this.end=e,this)}}],[{key:"create",value:function(e,n){return(new t).setPoints(e,n)}}]),t}();c.X=c.create(o.Vector.Zero(3),o.Vector.i),c.Y=c.create(o.Vector.Zero(3),o.Vector.j),c.Z=c.create(o.Vector.Zero(3),o.Vector.k),c.Segment=l},function(t,e,n){var r=n(151),o=n(147),i="[object AsyncFunction]",u="[object Function]",s="[object GeneratorFunction]",a="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==u||e==s||e==i||e==a}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(41))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(217),o=n(306),i=n(218),u=1,s=2;t.exports=function(t,e,n,a,c,l){var f=n&u,h=t.length,v=e.length;if(h!=v&&!(f&&v>h))return!1;var p=l.get(t);if(p&&l.get(e))return p==e;var d=-1,y=!0,m=n&s?new r:void 0;for(l.set(t,e),l.set(e,t);++d<h;){var g=t[d],b=e[d];if(a)var w=f?a(b,g,d,e,t,l):a(g,b,d,t,e,l);if(void 0!==w){if(w)continue;y=!1;break}if(m){if(!o(e,function(t,e){if(!i(m,e)&&(g===t||c(g,t,n,a,l)))return m.push(e)})){y=!1;break}}else if(g!==b&&!c(g,b,n,a,l)){y=!1;break}}return l.delete(t),l.delete(e),y}},function(t,e,n){var r=n(178),o=n(304),i=n(305);function u(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}u.prototype.add=u.prototype.push=o,u.prototype.has=i,t.exports=u},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(144).Uint8Array;t.exports=r},function(t,e,n){var r=n(221),o=n(181),i=n(157);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(180),o=n(143);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(311),o=n(182),i=n(143),u=n(183),s=n(224),a=n(225),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&u(t),h=!n&&!l&&!f&&a(t),v=n||l||f||h,p=v?r(t.length,String):[],d=p.length;for(var y in t)!e&&!c.call(t,y)||v&&("length"==y||f&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,d))||p.push(y);return p}},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var o=typeof t;return!!(e=null==e?n:e)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(314),o=n(185),i=n(186),u=i&&i.isTypedArray,s=u?o(u):r;t.exports=s},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(213),o=n(184);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){var r=n(146)(n(144),"Set");t.exports=r},function(t,e,n){var r=n(322),o=n(325),i=n(232),u=n(143),s=n(334);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?u(t)?o(t[0],t[1]):r(t):s(t)}},function(t,e,n){var r=n(147);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(341);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e){t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}},,function(t,e,n){t.exports=n(240),n(350)},function(t,e,n){(function(t){(function(){var e,n,r,o,i,u,s,a,c,l,f,h,v,p,d,y,m,g,b,w,_,x,k,j,O,S,E,P,F,M,A,D,R,T,U,I,C,B,L;[b,g,p,i,m,e]=[0,1,2,3,4,5],[E,k,O,_,c,f,s,v]=[0,1,2,3,4,5,6,7],[S,x,j,w,h,a,l,u,y,d,n,r]=[0,1,2,3,4,5,6,7,8,9,10,11],[F,A,R]=(B=function(t){return L(9)+t},I=function(t){return B(9)+t},U=function(t){return I(9)+t},C=function(t){return U(9)+t},T=function(t){return C(9)+t},[[4,13,22,31,40,49],[[(L=function(t){return t-1})(9),B(1),I(3)],[L(7),I(1),C(3)],[L(1),C(1),T(3)],[L(3),T(1),B(3)],[U(3),I(9),B(7)],[U(1),C(9),I(7)],[U(7),T(9),C(7)],[U(9),B(9),T(7)]],[[L(6),B(2)],[L(8),I(2)],[L(4),C(2)],[L(2),T(2)],[U(6),B(8)],[U(2),I(8)],[U(4),C(8)],[U(8),T(8)],[I(6),B(4)],[I(4),C(6)],[T(6),C(4)],[T(4),B(6)]]]),P=["U","R","F","D","L","B"],M=[["U","R","F"],["U","F","L"],["U","L","B"],["U","B","R"],["D","F","R"],["D","L","F"],["D","B","L"],["D","R","B"]],D=[["U","R"],["U","F"],["U","L"],["U","B"],["D","R"],["D","F"],["D","L"],["D","B"],["F","R"],["F","L"],["B","L"],["B","R"]],o=function(){var t,o,F,T,U,I;class C{constructor(t){null!=t?this.init(t):this.identity(),this.newCenter=function(){var t,e;for(e=[],t=0;t<=5;++t)e.push(0);return e}(),this.newCp=function(){var t,e;for(e=[],t=0;t<=7;++t)e.push(0);return e}(),this.newEp=function(){var t,e;for(e=[],t=0;t<=11;++t)e.push(0);return e}(),this.newCo=function(){var t,e;for(e=[],t=0;t<=7;++t)e.push(0);return e}(),this.newEo=function(){var t,e;for(e=[],t=0;t<=11;++t)e.push(0);return e}()}init(t){return this.center=t.center.slice(0),this.co=t.co.slice(0),this.ep=t.ep.slice(0),this.cp=t.cp.slice(0),this.eo=t.eo.slice(0)}identity(){return this.center=[0,1,2,3,4,5],this.cp=[0,1,2,3,4,5,6,7],this.co=function(){var t,e;for(e=[],t=0;t<=7;++t)e.push(0);return e}(),this.ep=[0,1,2,3,4,5,6,7,8,9,10,11],this.eo=function(){var t,e;for(e=[],t=0;t<=11;++t)e.push(0);return e}()}toJSON(){return{center:this.center,cp:this.cp,co:this.co,ep:this.ep,eo:this.eo}}asString(){var t,e,n,r,o,i,u,s,a,c,l;for(l=[],n=r=0;r<=5;n=++r)l[9*n+4]=P[this.center[n]];for(n=o=0;o<=7;n=++o)for(t=this.cp[n],a=this.co[n],u=i=0;i<=2;u=++i)l[A[n][(u+a)%3]]=M[t][u];for(n=s=0;s<=11;n=++s)for(e=this.ep[n],a=this.eo[n],u=c=0;c<=1;u=++c)l[R[n][(u+a)%2]]=D[e][u];return l.join("")}static fromString(t){var e,n,r,o,i,u,s,a,c,l,f,h,v,p;for(r=new C,o=u=0;u<=5;o=++u)for(i=s=0;s<=5;i=++s)t[9*o+4]===P[i]&&(r.center[o]=i);for(o=a=0;a<=7;o=++a){for(l=c=0;c<=2&&("U"!==(v=t[A[o][l]])&&"D"!==v);l=++c);for(e=t[A[o][(l+1)%3]],n=t[A[o][(l+2)%3]],i=f=0;f<=7;i=++f)e===M[i][1]&&n===M[i][2]&&(r.cp[o]=i,r.co[o]=l%3)}for(o=h=0;h<=11;o=++h)for(i=p=0;p<=11;i=++p){if(t[R[o][0]]===D[i][0]&&t[R[o][1]]===D[i][1]){r.ep[o]=i,r.eo[o]=0;break}if(t[R[o][0]]===D[i][1]&&t[R[o][1]]===D[i][0]){r.ep[o]=i,r.eo[o]=1;break}}return r}clone(){return new C(this.toJSON())}static random(){return(new C).randomize()}isSolved(){var t,e,n,r,o,i,u;for((n=this.clone()).move(n.upright()),e=o=0;o<=5;e=++o)if(n.center[e]!==e)return!1;for(t=i=0;i<=7;t=++i){if(n.cp[t]!==t)return!1;if(0!==n.co[t])return!1}for(r=u=0;u<=11;r=++u){if(n.ep[r]!==r)return!1;if(0!==n.eo[r])return!1}return!0}centerMultiply(t){var e,n,r;for(r=n=0;n<=5;r=++n)e=t.center[r],this.newCenter[r]=this.center[e];return[this.center,this.newCenter]=[this.newCenter,this.center],this}cornerMultiply(t){var e,n,r;for(r=n=0;n<=7;r=++n)e=t.cp[r],this.newCp[r]=this.cp[e],this.newCo[r]=(this.co[e]+t.co[r])%3;return[this.cp,this.newCp]=[this.newCp,this.cp],[this.co,this.newCo]=[this.newCo,this.co],this}edgeMultiply(t){var e,n,r;for(r=n=0;n<=11;r=++n)e=t.ep[r],this.newEp[r]=this.ep[e],this.newEo[r]=(this.eo[e]+t.eo[r])%2;return[this.ep,this.newEp]=[this.newEp,this.ep],[this.eo,this.newEo]=[this.newEo,this.eo],this}multiply(t){return this.centerMultiply(t),this.cornerMultiply(t),this.edgeMultiply(t),this}move(t){var e,n,r,o,i,u,s;for(n=0,o=(u=F(t)).length;n<o;n++)for(e=(i=u[n])/3|0,r=0,s=i%3;0<=s?r<=s:r>=s;0<=s?++r:--r)this.multiply(C.moves[e]);return this}upright(){var t,n,r,o,u,s;for(t=this.clone(),s=[],n=o=0;o<=5&&t.center[n]!==p;n=++o);switch(n){case i:s.push("x");break;case b:s.push("x'");break;case e:s.push("x2");break;case g:s.push("y");break;case m:s.push("y'")}for(s.length&&t.move(s[0]),r=u=0;u<=5&&t.center[r]!==b;r=++u);switch(r){case m:s.push("z");break;case g:s.push("z'");break;case i:s.push("z2")}return s.join(" ")}static inverse(e){var n,r,o,i,u,s,a;if((s=function(){var t,r,o,s;for(s=[],t=0,r=(o=F(e)).length;t<r;t++)i=o[t],n=i/3|0,u=i%3,s.push(3*n-(u-1)+1);return s}()).reverse(),"string"==typeof e){for(a="",r=0,o=s.length;r<o;r++)i=s[r],u=i%3,a+=t[n=i/3|0],1===u?a+="2":2===u&&(a+="'"),a+=" ";return a.substring(0,a.length-1)}return null!=e.length?s:s[0]}}return C.prototype.randomize=(I=function(t,e){return t+(Math.random()*(e-t+1)|0)},T=function(t){var e,n,r,o,i,u;for(u=[],e=n=0,i=(r=t.length-1)-2;0<=i?n<=i:n>=i;e=0<=i?++n:--n)e!==(o=I(e,r))?([t[e],t[o]]=[t[o],t[e]],u.push([t[r],t[r-1]]=[t[r-1],t[r]])):u.push(void 0);return u},U=function(t,e){var n,r,o,i;for(o=0,n=r=0,i=t.length-2;0<=i?r<=i:r>=i;n=0<=i?++r:--r)o+=t[n]=I(0,e-1);return t[t.length-1]=(e-o%e)%e},function(){return T(this.cp),T(this.ep),U(this.co,3),U(this.eo,2),this}),C.moves=[{center:[0,1,2,3,4,5],cp:[_,E,k,O,c,f,s,v],co:[0,0,0,0,0,0,0,0],ep:[w,S,x,j,h,a,l,u,y,d,n,r],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[c,k,O,E,v,f,s,_],co:[2,0,0,1,1,0,0,2],ep:[y,x,j,w,r,a,l,u,h,d,n,S],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[k,f,O,_,E,c,s,v],co:[1,2,0,0,2,1,0,0],ep:[S,d,j,w,h,y,l,u,x,a,n,r],eo:[0,1,0,0,0,1,0,0,1,1,0,0]},{center:[0,1,2,3,4,5],cp:[E,k,O,_,f,s,v,c],co:[0,0,0,0,0,0,0,0],ep:[S,x,j,w,a,l,u,h,y,d,n,r],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[E,O,s,_,c,k,f,v],co:[0,1,2,0,0,2,1,0],ep:[S,x,n,w,h,a,d,u,y,j,l,r],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[E,k,_,v,c,f,O,s],co:[0,0,1,2,0,0,2,1],ep:[S,x,j,r,h,a,l,n,y,d,w,u],eo:[0,0,0,1,0,0,0,1,0,0,1,1]},{center:[b,p,m,i,e,g],cp:[E,k,O,_,c,f,s,v],co:[0,0,0,0,0,0,0,0],ep:[S,x,j,w,h,a,l,u,d,n,r,y],eo:[0,0,0,0,0,0,0,0,1,1,1,1]},{center:[e,g,b,p,m,i],cp:[E,k,O,_,c,f,s,v],co:[0,0,0,0,0,0,0,0],ep:[S,w,j,u,h,x,l,a,y,d,n,r],eo:[0,1,0,1,0,1,0,1,0,0,0,0]},{center:[m,b,p,g,i,e],cp:[E,k,O,_,c,f,s,v],co:[0,0,0,0,0,0,0,0],ep:[j,x,l,w,S,a,h,u,y,d,n,r],eo:[1,0,1,0,1,0,1,0,0,0,0,0]}],o={U:0,R:1,F:2,D:3,L:4,B:5,E:6,M:7,S:8,x:9,y:10,z:11,u:12,r:13,f:14,d:15,l:16,b:17},t={0:"U",1:"R",2:"F",3:"D",4:"L",5:"B",6:"E",7:"M",8:"S",9:"x",10:"y",11:"z",12:"u",13:"r",14:"f",15:"d",16:"l",17:"b"},F=function(t){var e,n,r,i,u,s,a;if("string"==typeof t){for(a=[],e=0,n=(s=t.split(/\s+/)).length;e<n;e++)if(0!==(i=s[e]).length){if(i.length>2)throw new Error(`Invalid move: ${i}`);if(void 0===(r=o[i[0]]))throw new Error(`Invalid move: ${i}`);if(1===i.length)u=0;else if("2"===i[1])u=1;else{if("'"!==i[1])throw new Error(`Invalid move: ${i}`);u=2}a.push(3*r+u)}return a}return null!=t.length?t:[t]},C.moves.push((new C).move("R M' L'").toJSON()),C.moves.push((new C).move("U E' D'").toJSON()),C.moves.push((new C).move("F S B'").toJSON()),C.moves.push((new C).move("U E'").toJSON()),C.moves.push((new C).move("R M'").toJSON()),C.moves.push((new C).move("F S").toJSON()),C.moves.push((new C).move("D E").toJSON()),C.moves.push((new C).move("L M").toJSON()),C.moves.push((new C).move("B S'").toJSON()),C}.call(this),null!==t?t.exports=o:this.Cube=o}).call(this)}).call(this,n(166)(t))},function(t,e,n){var r=n(242),o=n(176),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var u=t[e];i.call(t,e)&&o(u,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(243);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(146),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var r=n(223),o=n(368),i=n(227);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e,n){var r=n(180),o=n(193),i=n(181),u=n(222),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:u;t.exports=s},function(t,e,n){var r=n(221),o=n(245),i=n(244);t.exports=function(t){return r(t,i,o)}},,,,function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,s=t[Symbol.iterator]();!(r=(u=s.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){"use strict";var r=n(8).f,o=n(59),i=n(91),u=n(17),s=n(89),a=n(90),c=n(60),l=n(95),f=n(63),h=n(6),v=n(88).fastKey,p=n(208),d=h?"_s":"size",y=function(t,e){var n,r=v(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[d]=0,null!=r&&a(r,n,t[c],t)});return i(l.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var n=p(this,e),r=y(n,t);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[d]--}return!!r},forEach:function(t){p(this,e);for(var n,r=u(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(p(this,e),t)}}),h&&r(l.prototype,"size",{get:function(){return p(this,e)[d]}}),l},def:function(t,e,n){var r,o,i=y(t,e);return i?i.v=n:(t._l=i={i:o=v(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[d]++,"F"!==o&&(t._i[o]=i)),t},getEntry:y,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(2),o=n(4),i=n(10),u=n(91),s=n(88),a=n(90),c=n(89),l=n(5),f=n(9),h=n(98),v=n(30),p=n(92);t.exports=function(t,e,n,d,y,m){var g=r[t],b=g,w=y?"set":"add",_=b&&b.prototype,x={},k=function(t){var e=_[t];i(_,t,"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(m||_.forEach&&!f(function(){(new b).entries().next()}))){var j=new b,O=j[w](m?{}:-0,1)!=j,S=f(function(){j.has(1)}),E=h(function(t){new b(t)}),P=!m&&f(function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)});E||((b=e(function(e,n){c(e,b,t);var r=p(new g,e,b);return null!=n&&a(n,y,r[w],r),r})).prototype=_,_.constructor=b),(S||P)&&(k("delete"),k("has"),y&&k("get")),(P||O)&&k(w),m&&_.clear&&delete _.clear}else b=d.getConstructor(e,t,y,w),u(b.prototype,n),s.NEED=!0;return v(b,t),x[t]=b,o(o.G+o.W+o.F*(b!=g),x),m||d.setStrong(b,t,y),b}},function(t,e,n){"use strict";var r=n(4),o=n(259),i=n(97);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){var r=n(29),o=n(101),i=n(15);t.exports=function(t,e,n,u){var s=String(i(t)),a=s.length,c=void 0===n?" ":String(n),l=r(e);if(l<=a||""==c)return s;var f=l-a,h=o.call(c,Math.ceil(f/c.length));return h.length>f&&(h=h.slice(0,f)),u?h+s:s+h}},function(t,e,n){var r=n(4),o=n(2).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&o(t)}})},function(t,e,n){var r=n(4);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(4);r(r.P,"Array",{fill:n(263)}),n(43)("fill")},function(t,e,n){"use strict";var r=n(31),o=n(94),i=n(29);t.exports=function(t){for(var e=r(this),n=i(e.length),u=arguments.length,s=o(u>1?arguments[1]:void 0,n),a=u>2?arguments[2]:void 0,c=void 0===a?n:o(a,n);c>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(4),o=n(96)(6),i="findIndex",u=!0;i in[]&&Array(1)[i](function(){u=!1}),r(r.P+r.F*u,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(43)(i)},function(t,e,n){"use strict";var r=n(2),o=n(13),i=n(20),u=n(92),s=n(44),a=n(9),c=n(45).f,l=n(61).f,f=n(8).f,h=n(266).trim,v=r.Number,p=v,d=v.prototype,y="Number"==i(n(59)(d)),m="trim"in String.prototype,g=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,o,i=(e=m?e.trim():h(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var u,a=e.slice(2),c=0,l=a.length;c<l;c++)if((u=a.charCodeAt(c))<48||u>o)return NaN;return parseInt(a,r)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof v&&(y?a(function(){d.valueOf.call(n)}):"Number"!=i(n))?u(new p(g(e)),n,v):g(e)};for(var b,w=n(6)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;w.length>_;_++)o(p,b=w[_])&&!o(v,b)&&f(v,b,l(p,b));v.prototype=d,d.constructor=v,n(10)(r,"Number",v)}},function(t,e,n){var r=n(4),o=n(15),i=n(9),u=n(267),s="["+u+"]",a=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(t,e,n){var o={},s=i(function(){return!!u[t]()||"​"!="​"[t]()}),a=o[t]=s?e(f):u[t];n&&(o[n]=a),r(r.P+r.F*s,"String",o)},f=l.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(a,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(4);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(154);Object.defineProperty(e,"Sylvester",{enumerable:!0,get:function(){return r.Sylvester}});var o=n(160);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return o.Matrix}});var i=n(161);Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return i.Vector}});var u=n(211);Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return u.Plane}});var s=n(212);Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return s.Line}})},function(t,e){},function(t,e,n){(function(t,r){var o=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,u=String(t).replace(o,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<i;a=r[++n])d(a)||!w(a)?u+=" "+a:u+=" "+s(a);return u},e.deprecate=function(n,o){if(g(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),i=!0}return n.apply(this,arguments)}};var i,u={};function s(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&e._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),l(r,t,r.depth)}function a(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&k(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return m(o)||(o=l(t,o,r)),o}var i=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(y(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(d(e))return t.stylize("null","null")}(t,n);if(i)return i;var u=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(n)),x(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(n);if(0===u.length){if(k(n)){var a=n.name?": "+n.name:"";return t.stylize("[Function"+a+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return f(n)}var c,w="",j=!1,O=["{","}"];(v(n)&&(j=!0,O=["[","]"]),k(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),_(n)&&(w=" "+Date.prototype.toUTCString.call(n)),x(n)&&(w=" "+f(n)),0!==u.length||j&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=j?function(t,e,n,r,o){for(var i=[],u=0,s=e.length;u<s;++u)E(e,String(u))?i.push(h(t,e,n,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(t,e,n,r,o,!0))}),i}(t,n,r,s,u):u.map(function(e){return h(t,n,r,s,e,j)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,w,O)):O[0]+w+O[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,o,i){var u,s,a;if((a=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=a.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):a.set&&(s=t.stylize("[Setter]","special")),E(r,o)||(u="["+o+"]"),s||(t.seen.indexOf(a.value)<0?(s=d(n)?l(t,a.value,null):l(t,a.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),g(u)){if(i&&o.match(/^\d+$/))return s;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+s}function v(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function d(t){return null===t}function y(t){return"number"==typeof t}function m(t){return"string"==typeof t}function g(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===j(t)}function w(t){return"object"==typeof t&&null!==t}function _(t){return w(t)&&"[object Date]"===j(t)}function x(t){return w(t)&&("[object Error]"===j(t)||t instanceof Error)}function k(t){return"function"==typeof t}function j(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(g(i)&&(i=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!u[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var n=r.pid;u[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else u[t]=function(){};return u[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=v,e.isBoolean=p,e.isNull=d,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=b,e.isObject=w,e.isDate=_,e.isError=x,e.isFunction=k,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(272);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":"),[t.getDate(),S[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(273),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,n(41),n(103))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r=n(174);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=n(175),o=n(216),i=n(307),u=n(309),s=n(167),a=n(143),c=n(183),l=n(225),f=1,h="[object Arguments]",v="[object Array]",p="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,y,m,g){var b=a(t),w=a(e),_=b?v:s(t),x=w?v:s(e),k=(_=_==h?p:_)==p,j=(x=x==h?p:x)==p,O=_==x;if(O&&c(t)){if(!c(e))return!1;b=!0,k=!1}if(O&&!k)return g||(g=new r),b||l(t)?o(t,e,n,y,m,g):i(t,e,_,n,y,m,g);if(!(n&f)){var S=k&&d.call(t,"__wrapped__"),E=j&&d.call(e,"__wrapped__");if(S||E){var P=S?t.value():t,F=E?e.value():e;return g||(g=new r),m(P,F,n,y,g)}}return!!O&&(g||(g=new r),u(t,e,n,y,m,g))}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(163),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(163);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(163);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(163);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(162);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(162),o=n(177),i=n(178),u=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<u-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(213),o=n(289),i=n(147),u=n(215),s=/^\[object .+?Constructor\]$/,a=Function.prototype,c=Object.prototype,l=a.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?h:s).test(u(t))}},function(t,e,n){var r=n(152),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=u.call(t);return r&&(e?t[s]=n:delete t[s]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,o=n(290),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(144)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(293),o=n(162),i=n(177);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(294),o=n(295),i=n(296),u=n(297),s=n(298);function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=u,a.prototype.set=s,t.exports=a},function(t,e,n){var r=n(164);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(164),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(164),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(164),o="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}},function(t,e,n){var r=n(165);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(165);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(165);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(165);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(152),o=n(219),i=n(176),u=n(216),s=n(308),a=n(179),c=1,l=2,f="[object Boolean]",h="[object Date]",v="[object Error]",p="[object Map]",d="[object Number]",y="[object RegExp]",m="[object Set]",g="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",_="[object DataView]",x=r?r.prototype:void 0,k=x?x.valueOf:void 0;t.exports=function(t,e,n,r,x,j,O){switch(n){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!j(new o(t),new o(e)));case f:case h:case d:return i(+t,+e);case v:return t.name==e.name&&t.message==e.message;case y:case g:return t==e+"";case p:var S=s;case m:var E=r&c;if(S||(S=a),t.size!=e.size&&!E)return!1;var P=O.get(t);if(P)return P==e;r|=l,O.set(t,e);var F=u(S(t),S(e),r,x,j,O);return O.delete(t),F;case b:if(k)return k.call(t)==k.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e,n){var r=n(220),o=1,i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,u,s,a){var c=n&o,l=r(t),f=l.length;if(f!=r(e).length&&!c)return!1;for(var h=f;h--;){var v=l[h];if(!(c?v in e:i.call(e,v)))return!1}var p=a.get(t);if(p&&a.get(e))return p==e;var d=!0;a.set(t,e),a.set(e,t);for(var y=c;++h<f;){var m=t[v=l[h]],g=e[v];if(u)var b=c?u(g,m,v,e,t,a):u(m,g,v,t,e,a);if(!(void 0===b?m===g||s(m,g,n,u,a):b)){d=!1;break}y||(y="constructor"==v)}if(d&&!y){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return a.delete(t),a.delete(e),d}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(151),o=n(145),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(151),o=n(184),i=n(145),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!u[r(t)]}},function(t,e,n){var r=n(187),o=n(316),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(226)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(146)(n(144),"DataView");t.exports=r},function(t,e,n){var r=n(146)(n(144),"Promise");t.exports=r},function(t,e,n){var r=n(146)(n(144),"WeakMap");t.exports=r},function(t,e,n){var r=n(321),o=n(229),i=n(337);t.exports=function(t,e){return t&&t.length?r(t,o(e,2),i):void 0}},function(t,e,n){var r=n(168);t.exports=function(t,e,n){for(var o=-1,i=t.length;++o<i;){var u=t[o],s=e(u);if(null!=s&&(void 0===a?s==s&&!r(s):n(s,a)))var a=s,c=u}return c}},function(t,e,n){var r=n(323),o=n(324),i=n(231);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(175),o=n(174),i=1,u=2;t.exports=function(t,e,n,s){var a=n.length,c=a,l=!s;if(null==t)return!c;for(t=Object(t);a--;){var f=n[a];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++a<c;){var h=(f=n[a])[0],v=t[h],p=f[1];if(l&&f[2]){if(void 0===v&&!(h in t))return!1}else{var d=new r;if(s)var y=s(v,p,h,t,e,d);if(!(void 0===y?o(p,v,i|u,s,d):y))return!1}}return!0}},function(t,e,n){var r=n(230),o=n(157);t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],u=t[i];e[n]=[i,u,r(u)]}return e}},function(t,e,n){var r=n(174),o=n(188),i=n(331),u=n(190),s=n(230),a=n(231),c=n(158),l=1,f=2;t.exports=function(t,e){return u(t)&&s(e)?a(c(t),e):function(n){var u=o(n,t);return void 0===u&&u===e?i(n,t):r(e,u,l|f)}}},function(t,e,n){var r=n(327),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,u=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});t.exports=u},function(t,e,n){var r=n(328),o=500;t.exports=function(t){var e=r(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=n(178),o="Expected a function";function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u)||i,u};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(330);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(152),o=n(191),i=n(143),u=n(168),s=1/0,a=r?r.prototype:void 0,c=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(u(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e,n){var r=n(332),o=n(333);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(169),o=n(182),i=n(143),u=n(224),s=n(184),a=n(158);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,f=!1;++c<l;){var h=a(e[c]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&s(l)&&u(h,l)&&(i(t)||o(t))}},function(t,e,n){var r=n(335),o=n(336),i=n(190),u=n(158);t.exports=function(t){return i(t)?r(u(t)):o(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(189);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,n){"use strict";(function(t,n){var r=Object.keys,o=Array.isArray,i="undefined"!=typeof self?self:"undefined"!=typeof window?window:t;function u(t,e){return"object"!=typeof e?t:(r(e).forEach(function(n){t[n]=e[n]}),t)}var s=Object.getPrototypeOf,a={}.hasOwnProperty;function c(t,e){return a.call(t,e)}function l(t,e){"function"==typeof e&&(e=e(s(t))),r(e).forEach(function(n){h(t,n,e[n])})}var f=Object.defineProperty;function h(t,e,n,r){f(t,e,u(n&&c(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function v(t){return{from:function(e){return t.prototype=Object.create(e.prototype),h(t.prototype,"constructor",t),{extend:l.bind(null,t.prototype)}}}}var p=Object.getOwnPropertyDescriptor;var d=[].slice;function y(t,e,n){return d.call(t,e,n)}function m(t,e){return e(t)}function g(t){if(!t)throw new Error("Assertion Failed")}function b(t){i.setImmediate?n(t):setTimeout(t,0)}function w(t,e){return t.reduce(function(t,n,r){var o=e(n,r);return o&&(t[o[0]]=o[1]),t},{})}function _(t,e){return function(){try{t.apply(this,arguments)}catch(t){e(t)}}}function x(t,e,n){try{t.apply(null,n)}catch(t){e&&e(t)}}function k(t,e){if(c(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],r=0,o=e.length;r<o;++r){var i=k(t,e[r]);n.push(i)}return n}var u=e.indexOf(".");if(-1!==u){var s=t[e.substr(0,u)];return void 0===s?void 0:k(s,e.substr(u+1))}}function j(t,e,n){if(t&&void 0!==e&&!("isFrozen"in Object&&Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){g("string"!=typeof n&&"length"in n);for(var r=0,o=e.length;r<o;++r)j(t,e[r],n[r])}else{var i=e.indexOf(".");if(-1!==i){var u=e.substr(0,i),s=e.substr(i+1);if(""===s)void 0===n?delete t[u]:t[u]=n;else{var a=t[u];a||(a=t[u]={}),j(a,s,n)}}else void 0===n?delete t[e]:t[e]=n}}function O(t){var e={};for(var n in t)c(t,n)&&(e[n]=t[n]);return e}var S=[].concat;function E(t){return S.apply([],t)}var P="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(E([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return i[t]}).map(function(t){return i[t]});function F(t){if(!t||"object"!=typeof t)return t;var e;if(o(t)){e=[];for(var n=0,r=t.length;n<r;++n)e.push(F(t[n]))}else if(P.indexOf(t.constructor)>=0)e=t;else for(var i in e=t.constructor?Object.create(t.constructor.prototype):{},t)c(t,i)&&(e[i]=F(t[i]));return e}function M(t,e,n,o){return n=n||{},o=o||"",r(t).forEach(function(r){if(c(e,r)){var i=t[r],u=e[r];"object"==typeof i&&"object"==typeof u&&i&&u&&""+i.constructor==""+u.constructor?M(i,u,n,o+r+"."):i!==u&&(n[o+r]=e[r])}else n[o+r]=void 0}),r(e).forEach(function(r){c(t,r)||(n[o+r]=e[r])}),n}var A="undefined"!=typeof Symbol&&Symbol.iterator,D=A?function(t){var e;return null!=t&&(e=t[A])&&e.apply(t)}:function(){return null},R={};function T(t){var e,n,r,i;if(1===arguments.length){if(o(t))return t.slice();if(this===R&&"string"==typeof t)return[t];if(i=D(t)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==t)return[t];if("number"==typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var U="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function I(t,e){U=t,C=e}var C=function(){return!0},B=!new Error("").stack;function L(){if(B)try{throw L.arguments,new Error}catch(t){return t}return new Error}function V(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(C).map(function(t){return"\n"+t}).join("")):""}var N=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],q=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(N),z={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function K(t,e){this._e=L(),this.name=t,this.message=e}function J(t,e,n,r){this._e=L(),this.failures=e,this.failedKeys=r,this.successCount=n}function W(t,e){this._e=L(),this.name="BulkError",this.failures=e,this.message=function(t,e){return t+". Errors: "+e.map(function(t){return t.toString()}).filter(function(t,e,n){return n.indexOf(t)===e}).join("\n")}(t,e)}v(K).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+V(this._e,2))}},toString:function(){return this.name+": "+this.message}}),v(J).from(K),v(W).from(K);var Z=q.reduce(function(t,e){return t[e]=e+"Error",t},{}),$=K,H=q.reduce(function(t,e){var n=e+"Error";function r(t,r){this._e=L(),this.name=n,t?"string"==typeof t?(this.message=t,this.inner=r||null):"object"==typeof t&&(this.message=t.name+" "+t.message,this.inner=t):(this.message=z[e]||n,this.inner=null)}return v(r).from($),t[e]=r,t},{});H.Syntax=SyntaxError,H.Type=TypeError,H.Range=RangeError;var G=N.reduce(function(t,e){return t[e+"Error"]=H[e],t},{});var Q=q.reduce(function(t,e){return-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=H[e]),t},{});function X(){}function Y(t){return t}function tt(t,e){return null==t||t===Y?e:function(n){return e(t(n))}}function et(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function nt(t,e){return t===X?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?et(r,this.onsuccess):r),o&&(this.onerror=this.onerror?et(o,this.onerror):o),void 0!==i?i:n}}function rt(t,e){return t===X?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?et(n,this.onsuccess):n),r&&(this.onerror=this.onerror?et(r,this.onerror):r)}}function ot(t,e){return t===X?e:function(n){var r=t.apply(this,arguments);u(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?et(o,this.onsuccess):o),i&&(this.onerror=this.onerror?et(i,this.onerror):i),void 0===r?void 0===s?void 0:s:u(r,s)}}function it(t,e){return t===X?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function ut(t,e){return t===X?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then(function(){return e.apply(r,i)})}return e.apply(this,arguments)}}Q.ModifyError=J,Q.DexieError=K,Q.BulkError=W;var st={},at=100,ct=7,lt=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(e){var t=i.Promise;return t?[t.resolve(),t.prototype,t.resolve()]:[]}}(),ft=lt[0],ht=lt[1],vt=lt[2],pt=ht&&ht.then,dt=ft&&ft.constructor,yt=lt[3],mt=!!vt,gt=!1,bt=vt?function(){vt.then(Vt)}:i.setImmediate?n.bind(null,Vt):i.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){Vt(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(Vt,0)},wt=function(t,e){Ft.push([t,e]),xt&&(bt(),xt=!1)},_t=!0,xt=!0,kt=[],jt=[],Ot=null,St=Y,Et={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ce,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{ce(t[0],t[1])}catch(t){}})}},Pt=Et,Ft=[],Mt=0,At=[];function Dt(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=X,this._lib=!1;var e=this._PSD=Pt;if(U&&(this._stackHolder=L(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==st)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ut(this,this._value))}this._state=null,this._value=null,++e.ref,function t(e,n){try{n(function(n){if(null===e._state){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Nt();n&&"function"==typeof n.then?t(e,function(t,e){n instanceof Dt?n._then(t,e):n.then(t,e)}):(e._state=!0,e._value=n,It(e)),r&&qt()}},Ut.bind(null,e))}catch(t){Ut(e,t)}}(this,t)}var Rt={get:function(){var t=Pt,e=Gt;function n(n,r){var o=this,i=!t.global&&(t!==Pt||e!==Gt);i&&te();var u=new Dt(function(e,u){Ct(o,new Tt(ue(n,t,i),ue(r,t,i),e,u,t))});return U&&Lt(u,this),u}return n.prototype=st,n},set:function(t){h(this,"then",t&&t.prototype===st?Rt:{get:function(){return t},set:Rt.set})}};function Tt(t,e,n,r,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r,this.psd=o}function Ut(t,e){if(jt.push(e),null===t._state){var n=t._lib&&Nt();e=St(e),t._state=!1,t._value=e,U&&null!==e&&"object"==typeof e&&!e._promise&&x(function(){var n=function t(e,n){var r;return p(e,n)||(r=s(e))&&t(r,n)}(e,"stack");e._promise=t,h(e,"stack",{get:function(){return gt?n&&(n.get?n.get.apply(e):n.value):t.stack}})}),function(t){kt.some(function(e){return e._value===t._value})||kt.push(t)}(t),It(t),n&&qt()}}function It(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)Ct(t,e[n]);var o=t._PSD;--o.ref||o.finalize(),0===Mt&&(++Mt,wt(function(){0==--Mt&&zt()},[]))}function Ct(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Mt,wt(Bt,[n,t,e])}else t._listeners.push(e)}function Bt(t,e,n){try{Ot=e;var r,o=e._value;e._state?r=t(o):(jt.length&&(jt=[]),r=t(o),-1===jt.indexOf(o)&&function(t){var e=kt.length;for(;e;)if(kt[--e]._value===t._value)return void kt.splice(e,1)}(e)),n.resolve(r)}catch(t){n.reject(t)}finally{Ot=null,0==--Mt&&zt(),--n.psd.ref||n.psd.finalize()}}function Lt(t,e){var n=e?e._numPrev+1:0;n<at&&(t._prev=e,t._numPrev=n)}function Vt(){Nt()&&qt()}function Nt(){var t=_t;return _t=!1,xt=!1,t}function qt(){var t,e,n;do{for(;Ft.length>0;)for(t=Ft,Ft=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}}while(Ft.length>0);_t=!0,xt=!0}function zt(){var t=kt;kt=[],t.forEach(function(t){t._PSD.onunhandled.call(null,t._value,t)});for(var e=At.slice(0),n=e.length;n;)e[--n]()}function Kt(t){return new Dt(st,!1,t)}function Jt(t,e){var n=Pt;return function(){var r=Nt(),o=Pt;try{return re(n,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{re(o,!1),r&&qt()}}}l(Dt.prototype,{then:Rt,_then:function(t,e){Ct(this,new Tt(null,null,t,e,Pt))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return"function"==typeof e?this.then(null,function(t){return t instanceof e?n(t):Kt(t)}):this.then(null,function(t){return t&&t.name===e?n(t):Kt(t)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),Kt(e)})},stack:{get:function(){if(this._stack)return this._stack;try{gt=!0;var t=function t(e,n,r){if(n.length===r)return n;var o="";if(!1===e._state){var i,u,s=e._value;null!=s?(i=s.name||"Error",u=s.message||s,o=V(s,0)):(i=s,u=""),n.push(i+(u?": "+u:"")+o)}U&&((o=V(e._stackHolder,2))&&-1===n.indexOf(o)&&n.push(o),e._prev&&t(e._prev,n,r));return n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{gt=!1}}},timeout:function(t,e){var n=this;return t<1/0?new Dt(function(r,o){var i=setTimeout(function(){return o(new H.Timeout(e))},t);n.then(r,o).finally(clearTimeout.bind(null,i))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h(Dt.prototype,Symbol.toStringTag,"Promise"),Et.env=oe(),l(Dt,{all:function(){var t=T.apply(null,arguments).map(ee);return new Dt(function(e,n){0===t.length&&e([]);var r=t.length;t.forEach(function(o,i){return Dt.resolve(o).then(function(n){t[i]=n,--r||e(t)},n)})})},resolve:function(t){if(t instanceof Dt)return t;if(t&&"function"==typeof t.then)return new Dt(function(e,n){t.then(e,n)});var e=new Dt(st,!0,t);return Lt(e,Ot),e},reject:Kt,race:function(){var t=T.apply(null,arguments).map(ee);return new Dt(function(e,n){t.map(function(t){return Dt.resolve(t).then(e,n)})})},PSD:{get:function(){return Pt},set:function(t){return Pt=t}},newPSD:Xt,usePSD:ie,scheduler:{get:function(){return wt},set:function(t){wt=t}},rejectionMapper:{get:function(){return St},set:function(t){St=t}},follow:function(t,e){return new Dt(function(n,r){return Xt(function(e,n){var r=Pt;r.unhandleds=[],r.onunhandled=n,r.finalize=et(function(){var t=this;!function(t){At.push(function e(){t();At.splice(At.indexOf(e),1)}),++Mt,wt(function(){0==--Mt&&zt()},[])}(function(){0===t.unhandleds.length?e():n(t.unhandleds[0])})},r.finalize),t()},e,n,r)})}});var Wt={awaits:0,echoes:0,id:0},Zt=0,$t=[],Ht=0,Gt=0,Qt=0;function Xt(t,e,n,r){var o=Pt,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++Qt;var s=Et.env;i.env=mt?{Promise:Dt,PromiseProp:{value:Dt,configurable:!0,writable:!0},all:Dt.all,race:Dt.race,resolve:Dt.resolve,reject:Dt.reject,nthen:se(s.nthen,i),gthen:se(s.gthen,i)}:{},e&&u(i,e),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=ie(i,t,n,r);return 0===i.ref&&i.finalize(),a}function Yt(){return Wt.id||(Wt.id=++Zt),++Wt.awaits,Wt.echoes+=ct,Wt.id}function te(t){!Wt.awaits||t&&t!==Wt.id||(0==--Wt.awaits&&(Wt.id=0),Wt.echoes=Wt.awaits*ct)}function ee(t){return Wt.echoes&&t&&t.constructor===dt?(Yt(),t.then(function(t){return te(),t},function(t){return te(),le(t)})):t}function ne(){var t=$t[$t.length-1];$t.pop(),re(t,!1)}function re(t,e){var n,r=Pt;if((e?!Wt.echoes||Ht++&&t===Pt:!Ht||--Ht&&t===Pt)||(n=e?function(t){++Gt,Wt.echoes&&0!=--Wt.echoes||(Wt.echoes=Wt.id=0),$t.push(Pt),re(t,!0)}.bind(null,t):ne,pt.call(ft,n)),t!==Pt&&(Pt=t,r===Et&&(Et.env=oe()),mt)){var o=Et.env.Promise,u=t.env;ht.then=u.nthen,o.prototype.then=u.gthen,(r.global||t.global)&&(Object.defineProperty(i,"Promise",u.PromiseProp),o.all=u.all,o.race=u.race,o.resolve=u.resolve,o.reject=u.reject)}}function oe(){var t=i.Promise;return mt?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:t.all,race:t.race,resolve:t.resolve,reject:t.reject,nthen:ht.then,gthen:t.prototype.then}:{}}function ie(t,e,n,r,o){var i=Pt;try{return re(t,!0),e(n,r,o)}finally{re(i,!1)}}function ue(t,e,n){return"function"!=typeof t?t:function(){var r=Pt;n&&Yt(),re(e,!0);try{return t.apply(this,arguments)}finally{re(r,!1)}}}function se(t,e){return function(n,r){return t.call(this,ue(n,e,!1),ue(r,e,!1))}}var ae="unhandledrejection";function ce(t,e){var n;try{n=e.onuncatched(t)}catch(t){}if(!1!==n)try{var r,o={promise:e,reason:t};if(i.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(ae,!0,!0),u(r,o)):i.CustomEvent&&u(r=new CustomEvent(ae,{detail:o}),o),r&&i.dispatchEvent&&(dispatchEvent(r),!i.PromiseRejectionEvent&&i.onunhandledrejection))try{i.onunhandledrejection(r)}catch(t){}r.defaultPrevented||console.warn("Unhandled rejection: "+(t.stack||t))}catch(t){}}var le=Dt.reject;function fe(t){var e={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return e[n].subscribe.apply(null,i),t}if("string"==typeof n)return e[n]};n.addEventType=s;for(var i=1,u=arguments.length;i<u;++i)s(arguments[i]);return n;function s(t,i,u){if("object"!=typeof t){var a;i||(i=it),u||(u=X);var c={subscribers:[],fire:u,subscribe:function(t){-1===c.subscribers.indexOf(t)&&(c.subscribers.push(t),c.fire=i(c.fire,t))},unsubscribe:function(t){c.subscribers=c.subscribers.filter(function(e){return e!==t}),c.fire=c.subscribers.reduce(i,u)}};return e[t]=n[t]=c,c}r(a=t).forEach(function(t){var e=a[t];if(o(e))s(t,a[t][0],a[t][1]);else{if("asap"!==e)throw new H.InvalidArgument("Invalid event config");var n=s(t,Y,function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];n.subscribers.forEach(function(t){b(function(){t.apply(null,e)})})})}})}}var he,ve=String.fromCharCode(65535),pe=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(t){return ve}}(),de=-1/0,ye="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",me="String expected.",ge=[],be="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),we=be,_e=be,xe=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)};function ke(t,e){var n,s,a,f,v,p=ke.dependencies,d=u({addons:ke.addons,autoOpen:!0,indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},e),b=d.addons,S=d.autoOpen,P=d.indexedDB,A=d.IDBKeyRange,D=this._dbSchema={},I=[],C=[],B={},N=null,q=null,z=!1,K=null,Z=!1,$="readwrite",G=this,Q=new Dt(function(t){n=t}),et=new Dt(function(t,e){s=e}),it=!0,st=!!Te(P);function at(t){this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function ct(t,e,n){var o=G._createTransaction($,C,D);o.create(e),o._completion.catch(n);var i=o._reject.bind(o);Xt(function(){Pt.trans=o,0===t?(r(D).forEach(function(t){lt(e,t,D[t].primKey,D[t].indexes)}),Dt.follow(function(){return G.on.populate.fire(o)}).catch(i)):function(t,e,n){var o=[],i=I.filter(function(e){return e._cfg.version===t})[0];if(!i)throw new H.Upgrade("Dexie specification of currently installed DB version is missing");D=G._dbSchema=i._cfg.dbschema;var u=!1;return I.filter(function(e){return e._cfg.version>t}).forEach(function(t){o.push(function(){var r=D,o=t._cfg.dbschema;Rt(r,n),Rt(o,n),D=G._dbSchema=o;var i=function(t,e){var n={del:[],add:[],change:[]};for(var r in t)e[r]||n.del.push(r);for(r in e){var o=t[r],i=e[r];if(o){var u={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(o.primKey.src!==i.primKey.src)u.recreate=!0,n.change.push(u);else{var s=o.idxByName,a=i.idxByName;for(var c in s)a[c]||u.del.push(c);for(c in a){var l=s[c],f=a[c];l?l.src!==f.src&&u.change.push(f):u.add.push(f)}(u.del.length>0||u.add.length>0||u.change.length>0)&&n.change.push(u)}}else n.add.push([r,i])}return n}(r,o);if(i.add.forEach(function(t){lt(n,t[0],t[1].primKey,t[1].indexes)}),i.change.forEach(function(t){if(t.recreate)throw new H.Upgrade("Not yet support for changing primary key");var e=n.objectStore(t.name);t.add.forEach(function(t){ft(e,t)}),t.change.forEach(function(t){e.deleteIndex(t.name),ft(e,t)}),t.del.forEach(function(t){e.deleteIndex(t)})}),t._cfg.contentUpgrade)return u=!0,Dt.follow(function(){t._cfg.contentUpgrade(e)})}),o.push(function(e){u&&we||function(t,e){for(var n=0;n<e.db.objectStoreNames.length;++n){var r=e.db.objectStoreNames[n];null==t[r]&&e.db.deleteObjectStore(r)}}(t._cfg.dbschema,e)})}),function t(){return o.length?Dt.resolve(o.shift()(e.idbtrans)).then(t):Dt.resolve()}().then(function(){!function(t,e){r(t).forEach(function(n){e.db.objectStoreNames.contains(n)||lt(e,n,t[n].primKey,t[n].indexes)})}(D,n)})}(t,o,e).catch(i)})}function lt(t,e,n,r){var o=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(t){ft(o,t)}),o}function ft(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function ht(t,e,n){this.name=t,this.schema=e,this._tx=n,this.hook=B[t]?B[t].hook:fe(null,{creating:[nt,X],reading:[tt,Y],updating:[ot,X],deleting:[rt,X]})}function vt(t,e,n){return(n?Pe:Se)(function(n){t.push(n),e&&e()})}function pt(t,e,n,r,o){return new Dt(function(i,u){var s=n.length,a=s-1;if(0===s)return i();if(r){var c,l=Pe(u),f=Oe(null);x(function(){for(var r=0;r<s;++r){c={onsuccess:null,onerror:null};var u=n[r];o.call(c,u[0],u[1],e);var h=t.delete(u[0]);h._hookCtx=c,h.onerror=l,h.onsuccess=r===a?Oe(i):f}},function(t){throw c.onerror&&c.onerror(t),t})}else for(var h=0;h<s;++h){var v=t.delete(n[h]);v.onerror=Se(u),h===a&&(v.onsuccess=Jt(function(){return i()}))}})}function mt(t,e,n,r){var o=this;this.db=G,this.mode=t,this.storeNames=e,this.idbtrans=null,this.on=fe(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Dt(function(t,e){o._resolve=t,o._reject=e}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(t){var e=o.active;return o.active=!1,o.on.error.fire(t),o.parent?o.parent._reject(t):e&&o.idbtrans&&o.idbtrans.abort(),le(t)})}function gt(t,e,n){this._ctx={table:t,index:":id"===e?null:e,or:n}}function bt(t,e){var n=null,r=null;if(e)try{n=e()}catch(t){r=t}var o=t._ctx,i=o.table;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:i.hook.reading.fire}}function wt(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function _t(t,e){return t._cfg.version-e._cfg.version}function xt(t,e,n){e.forEach(function(e){var r=n[e];t.forEach(function(t){e in t||(t===mt.prototype||t instanceof mt?h(t,e,{get:function(){return this.table(e)}}):t[e]=new ht(e,r))})})}function kt(t,e,n,r,o,i){var u=Jt(i?function(t,e,r){return n(i(t),e,r)}:n,o);t.onerror||(t.onerror=Se(o)),t.onsuccess=_(e?function(){var n=t.result;if(n){var i=function(){n.continue()};e(n,function(t){i=t},r,o)&&u(n.value,n,function(t){i=t}),i()}else r()}:function(){var e=t.result;if(e){var n=function(){e.continue()};u(e.value,e,function(t){n=t}),n()}else r()},o)}function jt(t,e){return P.cmp(t,e)}function Ot(t,e){return jt(t,e)>0?t:e}function St(t,e){return P.cmp(t,e)}function Et(t,e){return P.cmp(e,t)}function Ft(t,e){return t<e?-1:t===e?0:1}function Mt(t,e){return t>e?-1:t===e?0:1}function At(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}function Rt(t,e){for(var n=e.db.objectStoreNames,r=0;r<n.length;++r){var o=n[r],u=e.objectStore(o);a="getAll"in u;for(var s=0;s<u.indexNames.length;++s){var c=u.indexNames[s],l=u.index(c).keyPath,f="string"==typeof l?l:"["+y(l).join("+")+"]";if(t[o]){var h=t[o].idxByName[f];h&&(h.name=c)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a=!1)}function Tt(t){G.on("blocked").fire(t),ge.filter(function(t){return t.name===G.name&&t!==G&&!t._vcFired}).map(function(e){return e.on("versionchange").fire(t)})}this.version=function(t){if(N||z)throw new H.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=I.filter(function(e){return e._cfg.version===t})[0];return e||(e=new at(t),I.push(e),I.sort(_t),it=!1,e)},u(at.prototype,{stores:function(t){this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,t):t;var e={};I.forEach(function(t){u(e,t._cfg.storesSource)});var n=this._cfg.dbschema={};return this._parseStoresSpec(e,n),D=G._dbSchema=n,[B,G,mt.prototype].forEach(function(t){for(var e in t)t[e]instanceof ht&&delete t[e]}),xt([B,G,mt.prototype,this._cfg.tables],r(n),n),C=r(n),this},upgrade:function(t){return this._cfg.contentUpgrade=t,this},_parseStoresSpec:function(t,e){r(t).forEach(function(n){if(null!==t[n]){var r={},i=function(t){var e=[];return t.split(",").forEach(function(t){var n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;e.push(new Ae(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),o(r),/\./.test(t)))}),e}(t[n]),u=i.shift();if(u.multi)throw new H.Schema("Primary key cannot be multi-valued");u.keyPath&&j(r,u.keyPath,u.auto?0:u.keyPath),i.forEach(function(t){if(t.auto)throw new H.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new H.Schema("Index must have a name and cannot be an empty string");j(r,t.keyPath,t.compound?t.keyPath.map(function(){return""}):"")}),e[n]=new De(n,u,i,r)}})}}),this._allTables=B,this._createTransaction=function(t,e,n,r){return new mt(t,e,n,r)},this._whenReady=function(t){return Z||Pt.letThrough?t():new Dt(function(t,e){if(!z){if(!S)return void e(new H.DatabaseClosed);G.open().catch(X)}Q.then(t,e)}).then(t)},this.verno=0,this.open=function(){if(z||N)return Q.then(function(){return q?le(q):G});U&&(et._stackHolder=L()),z=!0,q=null,Z=!1;var e=n,o=null;return Dt.race([et,new Dt(function(e,n){if(!P)throw new H.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=it?P.open(t):P.open(t,Math.round(10*G.verno));if(!i)throw new H.MissingAPI("IndexedDB API not available");i.onerror=Se(n),i.onblocked=Jt(Tt),i.onupgradeneeded=Jt(function(e){if(o=i.transaction,it&&!G._allowEmptyDB){i.onerror=Fe,o.abort(),i.result.close();var r=P.deleteDatabase(t);r.onsuccess=r.onerror=Jt(function(){n(new H.NoSuchDatabase("Database "+t+" doesnt exist"))})}else{o.onerror=Se(n),ct((e.oldVersion>Math.pow(2,62)?0:e.oldVersion)/10,o,n)}},n),i.onsuccess=Jt(function(){if(o=null,N=i.result,ge.push(G),it)!function(){if(G.verno=N.version/10,G._dbSchema=D={},0===(C=y(N.objectStoreNames,0)).length)return;var t=N.transaction(Re(C),"readonly");C.forEach(function(e){for(var n=t.objectStore(e),r=n.keyPath,o=r&&"string"==typeof r&&-1!==r.indexOf("."),i=new Ae(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,o),u=[],s=0;s<n.indexNames.length;++s){var a=n.index(n.indexNames[s]);r=a.keyPath,o=r&&"string"==typeof r&&-1!==r.indexOf(".");var c=new Ae(a.name,r,!!a.unique,!!a.multiEntry,!1,r&&"string"!=typeof r,o);u.push(c)}D[e]=new De(e,i,u,{})}),xt([B],r(D),D)}();else if(N.objectStoreNames.length>0)try{Rt(D,N.transaction(Re(N.objectStoreNames),"readonly"))}catch(t){}N.onversionchange=Jt(function(t){G._vcFired=!0,G.on("versionchange").fire(t)}),st||"__dbnames"===t||he.dbnames.put({name:t}).catch(X),e()},n)})]).then(function(){return K=[],Dt.resolve(ke.vip(G.on.ready.fire)).then(function t(){if(K.length>0){var e=K.reduce(ut,X);return K=[],Dt.resolve(ke.vip(e)).then(t)}})}).finally(function(){K=null}).then(function(){return z=!1,G}).catch(function(t){try{o&&o.abort()}catch(t){}return z=!1,G.close(),le(q=t)}).finally(function(){Z=!0,e()})},this.close=function(){var t=ge.indexOf(G);if(t>=0&&ge.splice(t,1),N){try{N.close()}catch(t){}N=null}S=!1,q=new H.DatabaseClosed,z&&s(q),Q=new Dt(function(t){n=t}),et=new Dt(function(t,e){s=e})},this.delete=function(){var e=arguments.length>0;return new Dt(function(n,r){if(e)throw new H.InvalidArgument("Arguments not allowed in db.delete()");function o(){G.close();var e=P.deleteDatabase(t);e.onsuccess=Jt(function(){st||he.dbnames.delete(t).catch(X),n()}),e.onerror=Se(r),e.onblocked=Tt}z?Q.then(o):o()})},this.backendDB=function(){return N},this.isOpen=function(){return null!==N},this.hasBeenClosed=function(){return q&&q instanceof H.DatabaseClosed},this.hasFailed=function(){return null!==q},this.dynamicallyOpened=function(){return it},this.name=t,l(this,{tables:{get:function(){return r(B).map(function(t){return B[t]})}}}),this.on=fe(this,"populate","blocked","versionchange",{ready:[ut,X]}),this.on.ready.subscribe=m(this.on.ready.subscribe,function(t){return function(e,n){ke.vip(function(){Z?(q||Dt.resolve().then(e),n&&t(e)):K?(K.push(e),n&&t(e)):(t(e),n||t(function t(){G.on.ready.unsubscribe(e),G.on.ready.unsubscribe(t)}))})}}),this.transaction=function(){var t=function(t,e,n){var r=arguments.length;if(r<2)throw new H.InvalidArgument("Too few arguments");var o=new Array(r-1);for(;--r;)o[r-1]=arguments[r];n=o.pop();var i=E(o);return[t,i,n]}.apply(this,arguments);return this._transaction.apply(this,t)},this._transaction=function(t,e,n){var r=Pt.trans;r&&r.db===G&&-1===t.indexOf("!")||(r=null);var o=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{var i=e.map(function(t){var e=t instanceof ht?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e});if("r"==t||"readonly"==t)t="readonly";else{if("rw"!=t&&t!=$)throw new H.InvalidArgument("Invalid transaction mode: "+t);t=$}if(r){if("readonly"===r.mode&&t===$){if(!o)throw new H.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&i.forEach(function(t){if(r&&-1===r.storeNames.indexOf(t)){if(!o)throw new H.SubTransaction("Table "+t+" not included in parent transaction.");r=null}}),o&&r&&!r.active&&(r=null)}}catch(t){return r?r._promise(null,function(e,n){n(t)}):le(t)}return r?r._promise(t,u,"lock"):Pt.trans?ie(Pt.transless,function(){return G._whenReady(u)}):G._whenReady(u);function u(){return Dt.resolve().then(function(){var e,o=Pt.transless||Pt,u=G._createTransaction(t,i,D,r),s={trans:u,transless:o};r?u.idbtrans=r.idbtrans:u.create(),n.constructor===yt&&Yt();var a=Dt.follow(function(){if(e=n.call(u,u))if(e.constructor===dt){var t=te.bind(null,null);e.then(t,t)}else"function"==typeof e.next&&"function"==typeof e.throw&&(e=Me(e))},s);return(e&&"function"==typeof e.then?Dt.resolve(e).then(function(t){return u.active?t:le(new H.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):a.then(function(){return e})).then(function(t){return r&&u._resolve(),u._completion.then(function(){return t})}).catch(function(t){return u._reject(t),le(t)})})}},this.table=function(t){if(!c(B,t))throw new H.InvalidTable("Table "+t+" does not exist");return B[t]},l(ht.prototype,{_trans:function(t,e,n){var r=this._tx||Pt.trans;return r&&r.db===G?r===Pt.trans?r._promise(t,e,n):Xt(function(){return r._promise(t,e,n)},{trans:r,transless:Pt.transless||Pt}):function t(e,n,r){if(Z||Pt.letThrough){var o=G._createTransaction(e,n,D);try{o.create()}catch(t){return le(t)}return o._promise(e,function(t,e){return Xt(function(){return Pt.trans=o,r(t,e,o)})}).then(function(t){return o._completion.then(function(){return t})})}if(!z){if(!S)return le(new H.DatabaseClosed);G.open().catch(X)}return Q.then(function(){return t(e,n,r)})}(t,[this.name],e)},_idbstore:function(t,e,n){var r=this.name;return this._trans(t,function(t,n,o){if(-1===o.storeNames.indexOf(r))throw new H.NotFound("Table"+r+" not part of transaction");return e(t,n,o.idbtrans.objectStore(r),o)},n)},get:function(t,e){if(t&&t.constructor===Object)return this.where(t).first(e);var n=this;return this._idbstore("readonly",function(e,r,o){var i=o.get(t);i.onerror=Se(r),i.onsuccess=Jt(function(){e(n.hook.reading.fire(i.result))},r)}).then(e)},where:function(t){if("string"==typeof t)return new gt(this,t);if(o(t))return new gt(this,"["+t.join("+")+"]");var e=r(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(t){return t.compound&&e.every(function(e){return t.keyPath.indexOf(e)>=0})&&t.keyPath.every(function(t){return e.indexOf(t)>=0})})[0];if(n&&pe!==ve)return this.where(n.name).equals(n.keyPath.map(function(e){return t[e]}));n||console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a compound index ["+e.join("+")+"]");var i=this.schema.idxByName,u=e.reduce(function(e,n){return[e[0]||i[n],e[0]||!i[n]?At(e[1],function(e){return""+k(e,n)==""+t[n]}):e[1]]},[null,null]),s=u[0];return s?this.where(s.name).equals(t[s.keyPath]).filter(u[1]):n?this.filter(u[1]):this.where(e).equals("")},count:function(t){return this.toCollection().count(t)},offset:function(t){return this.toCollection().offset(t)},limit:function(t){return this.toCollection().limit(t)},reverse:function(){return this.toCollection().reverse()},filter:function(t){return this.toCollection().and(t)},each:function(t){return this.toCollection().each(t)},toArray:function(t){return this.toCollection().toArray(t)},orderBy:function(t){return new bt(new gt(this,o(t)?"["+t.join("+")+"]":t))},toCollection:function(){return new bt(new gt(this))},mapToClass:function(t,e){this.schema.mappedClass=t;var n=Object.create(t.prototype);e&&je(n,e),this.schema.instanceTemplate=n;var r=function(e){if(!e)return e;var n=Object.create(t.prototype);for(var r in e)if(c(e,r))try{n[r]=e[r]}catch(t){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t},defineClass:function(t){return this.mapToClass(ke.defineClass(t),t)},bulkDelete:function(t){return this.hook.deleting.fire===X?this._idbstore($,function(e,n,r,o){e(pt(r,o,t,!1,X))}):this.where(":id").anyOf(t).delete().then(function(){})},bulkPut:function(t,e){var n=this;return this._idbstore($,function(r,o,i){if(!i.keyPath&&!n.schema.primKey.auto&&!e)throw new H.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(i.keyPath&&e)throw new H.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(e&&e.length!==t.length)throw new H.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return r();var u,s,a=function(t){0===c.length?r(t):o(new W(n.name+".bulkPut(): "+c.length+" of "+l+" operations failed",c))},c=[],l=t.length,f=n;if(n.hook.creating.fire===X&&n.hook.updating.fire===X){s=vt(c);for(var h=0,v=t.length;h<v;++h)(u=e?i.put(t[h],e[h]):i.put(t[h])).onerror=s;u.onerror=vt(c,a),u.onsuccess=Ee(a)}else{var p=e||i.keyPath&&t.map(function(t){return k(t,i.keyPath)}),d=p&&w(p,function(e,n){return null!=e&&[e,t[n]]});(p?f.where(":id").anyOf(p.filter(function(t){return null!=t})).modify(function(){this.value=d[this.primKey],d[this.primKey]=null}).catch(J,function(t){c=t.failures}).then(function(){for(var n=[],r=e&&[],o=p.length-1;o>=0;--o){var i=p[o];(null==i||d[i])&&(n.push(t[o]),e&&r.push(i),null!=i&&(d[i]=null))}return n.reverse(),e&&r.reverse(),f.bulkAdd(n,r)}).then(function(t){var e=p[p.length-1];return null!=e?e:t}):f.bulkAdd(t)).then(a).catch(W,function(t){c=c.concat(t.failures),a()}).catch(o)}},"locked")},bulkAdd:function(t,e){var n=this,r=this.hook.creating.fire;return this._idbstore($,function(o,i,u,s){if(!u.keyPath&&!n.schema.primKey.auto&&!e)throw new H.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(u.keyPath&&e)throw new H.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(e&&e.length!==t.length)throw new H.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return o();function a(t){0===h.length?o(t):i(new W(n.name+".bulkAdd(): "+h.length+" of "+v+" operations failed",h))}var c,l,f,h=[],v=t.length;if(r!==X){var p,d=u.keyPath;l=vt(h,null,!0),f=Oe(null),x(function(){for(var n=0,o=t.length;n<o;++n){p={onerror:null,onsuccess:null};var i=e&&e[n],a=t[n],h=e?i:d?k(a,d):void 0,v=r.call(p,h,a,s);null==h&&null!=v&&(d?j(a=F(a),d,v):i=v),(c=null!=i?u.add(a,i):u.add(a))._hookCtx=p,n<o-1&&(c.onerror=l,p.onsuccess&&(c.onsuccess=f))}},function(t){throw p.onerror&&p.onerror(t),t}),c.onerror=vt(h,a,!0),c.onsuccess=Oe(a)}else{l=vt(h);for(var y=0,m=t.length;y<m;++y)(c=e?u.add(t[y],e[y]):u.add(t[y])).onerror=l;c.onerror=vt(h,a),c.onsuccess=Ee(a)}})},add:function(t,e){var n=this.hook.creating.fire;return this._idbstore($,function(r,o,i,u){var s={onsuccess:null,onerror:null};if(n!==X){var a=null!=e?e:i.keyPath?k(t,i.keyPath):void 0,c=n.call(s,a,t,u);null==a&&null!=c&&(i.keyPath?j(t,i.keyPath,c):e=c)}try{var l=null!=e?i.add(t,e):i.add(t);l._hookCtx=s,l.onerror=Pe(o),l.onsuccess=Oe(function(e){var n=i.keyPath;n&&j(t,n,e),r(e)})}catch(t){throw s.onerror&&s.onerror(t),t}})},put:function(t,e){var n=this,r=this.hook.creating.fire,o=this.hook.updating.fire;if(r!==X||o!==X){var i=this.schema.primKey.keyPath,u=void 0!==e?e:i&&k(t,i);return null==u?this.add(t):(t=F(t),this._trans($,function(){return n.where(":id").equals(u).modify(function(){this.value=t}).then(function(r){return 0===r?n.add(t,e):u})},"locked"))}return this._idbstore($,function(n,r,o){var i=void 0!==e?o.put(t,e):o.put(t);i.onerror=Se(r),i.onsuccess=Jt(function(e){var r=o.keyPath;r&&j(t,r,e.target.result),n(i.result)})})},delete:function(t){return this.hook.deleting.subscribers.length?this.where(":id").equals(t).delete():this._idbstore($,function(e,n,r){var o=r.delete(t);o.onerror=Se(n),o.onsuccess=Jt(function(){e(o.result)})})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore($,function(t,e,n){var r=n.clear();r.onerror=Se(e),r.onsuccess=Jt(function(){t(r.result)})})},update:function(t,e){if("object"!=typeof e||o(e))throw new H.InvalidArgument("Modifications must be an object.");if("object"!=typeof t||o(t))return this.where(":id").equals(t).modify(e);r(e).forEach(function(n){j(t,n,e[n])});var n=k(t,this.schema.primKey.keyPath);return void 0===n?le(new H.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(e)}}),l(mt.prototype,{_lock:function(){return g(!Pt.global),++this._reculock,1!==this._reculock||Pt.global||(Pt.lockOwnerFor=this),this},_unlock:function(){if(g(!Pt.global),0==--this._reculock)for(Pt.global||(Pt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{ie(t[1],t[0])}catch(t){}}return this},_locked:function(){return this._reculock&&Pt.lockOwnerFor!==this},create:function(t){var e=this;if(!this.mode)return this;if(g(!this.idbtrans),!t&&!N)switch(q&&q.name){case"DatabaseClosedError":throw new H.DatabaseClosed(q);case"MissingAPIError":throw new H.MissingAPI(q.message,q);default:throw new H.OpenFailed(q)}if(!this.active)throw new H.TransactionInactive;return g(null===this._completion._state),(t=this.idbtrans=t||N.transaction(Re(this.storeNames),this.mode)).onerror=Jt(function(n){Fe(n),e._reject(t.error)}),t.onabort=Jt(function(n){Fe(n),e.active&&e._reject(new H.Abort(t.error)),e.active=!1,e.on("abort").fire(n)}),t.oncomplete=Jt(function(){e.active=!1,e._resolve()}),this},_promise:function(t,e,n){var r=this;if(t===$&&this.mode!==$)return le(new H.ReadOnly("Transaction is readonly"));if(!this.active)return le(new H.TransactionInactive);if(this._locked())return new Dt(function(o,i){r._blockedFuncs.push([function(){r._promise(t,e,n).then(o,i)},Pt])});if(n)return Xt(function(){var t=new Dt(function(t,n){r._lock();var o=e(t,n,r);o&&o.then&&o.then(t,n)});return t.finally(function(){return r._unlock()}),t._lib=!0,t});var o=new Dt(function(t,n){var o=e(t,n,r);o&&o.then&&o.then(t,n)});return o._lib=!0,o},_root:function(){return this.parent?this.parent._root():this},waitFor:function(t){var e=this._root();if(t=Dt.resolve(t),e._waitingFor)e._waitingFor=e._waitingFor.then(function(){return t});else{e._waitingFor=t,e._waitingQueue=[];var n=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(n.get(-1/0).onsuccess=t)}()}var r=e._waitingFor;return new Dt(function(n,o){t.then(function(t){return e._waitingQueue.push(Jt(n.bind(null,t)))},function(t){return e._waitingQueue.push(Jt(o.bind(null,t)))}).finally(function(){e._waitingFor===r&&(e._waitingFor=null)})})},abort:function(){this.active&&this._reject(new H.Abort),this.active=!1},tables:{get:(f="Transaction.tables",v=function(){return B},function(){return console.warn(f+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+V(L(),1)),v.apply(this,arguments)})},table:function(t){return new ht(t,G.table(t).schema,this)}}),l(gt.prototype,function(){function t(t,e,n){var r=t instanceof gt?new bt(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function e(t){return new bt(t,function(){return A.only("")}).limit(0)}function n(t,e,n,r,o,i){for(var u=Math.min(t.length,r.length),s=-1,a=0;a<u;++a){var c=e[a];if(c!==r[a])return o(t[a],n[a])<0?t.substr(0,a)+n[a]+n.substr(a+1):o(t[a],r[a])<0?t.substr(0,a)+r[a]+n.substr(a+1):s>=0?t.substr(0,s)+e[s]+n.substr(s+1):null;o(t[a],c)<0&&(s=a)}return u<r.length&&"next"===i?t+n.substr(t.length):u<t.length&&"prev"===i?t.substr(0,n.length):s<0?null:t.substr(0,s)+r[s]+n.substr(s+1)}function r(e,r,o,i){var u,s,a,c,l,f,h,v=o.length;if(!o.every(function(t){return"string"==typeof t}))return t(e,me);function p(t){u=function(t){return"next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}(t),s=function(t){return"next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}(t),a="next"===t?Ft:Mt;var e=o.map(function(t){return{lower:s(t),upper:u(t)}}).sort(function(t,e){return a(t.lower,e.lower)});c=e.map(function(t){return t.upper}),l=e.map(function(t){return t.lower}),f=t,h="next"===t?"":i}p("next");var d=new bt(e,function(){return A.bound(c[0],l[v-1]+i)});d._ondirectionchange=function(t){p(t)};var y=0;return d._addAlgorithm(function(t,e,o){var i=t.key;if("string"!=typeof i)return!1;var u=s(i);if(r(u,l,y))return!0;for(var p=null,d=y;d<v;++d){var m=n(i,u,c[d],l[d],a,f);null===m&&null===p?y=d+1:(null===p||a(p,m)>0)&&(p=m)}return e(null!==p?function(){t.continue(p+h)}:o),!1}),d}return{between:function(n,r,o,i){o=!1!==o,i=!0===i;try{return jt(n,r)>0||0===jt(n,r)&&(o||i)&&(!o||!i)?e(this):new bt(this,function(){return A.bound(n,r,!o,!i)})}catch(e){return t(this,ye)}},equals:function(t){return new bt(this,function(){return A.only(t)})},above:function(t){return new bt(this,function(){return A.lowerBound(t,!0)})},aboveOrEqual:function(t){return new bt(this,function(){return A.lowerBound(t)})},below:function(t){return new bt(this,function(){return A.upperBound(t,!0)})},belowOrEqual:function(t){return new bt(this,function(){return A.upperBound(t)})},startsWith:function(e){return"string"!=typeof e?t(this,me):this.between(e,e+ve,!0,!0)},startsWithIgnoreCase:function(t){return""===t?this.startsWith(t):r(this,function(t,e){return 0===t.indexOf(e[0])},[t],ve)},equalsIgnoreCase:function(t){return r(this,function(t,e){return t===e[0]},[t],"")},anyOfIgnoreCase:function(){var t=T.apply(R,arguments);return 0===t.length?e(this):r(this,function(t,e){return-1!==e.indexOf(t)},t,"")},startsWithAnyOfIgnoreCase:function(){var t=T.apply(R,arguments);return 0===t.length?e(this):r(this,function(t,e){return e.some(function(e){return 0===t.indexOf(e)})},t,ve)},anyOf:function(){var n=T.apply(R,arguments),r=St;try{n.sort(r)}catch(e){return t(this,ye)}if(0===n.length)return e(this);var o=new bt(this,function(){return A.bound(n[0],n[n.length-1])});o._ondirectionchange=function(t){r="next"===t?St:Et,n.sort(r)};var i=0;return o._addAlgorithm(function(t,e,o){for(var u=t.key;r(u,n[i])>0;)if(++i===n.length)return e(o),!1;return 0===r(u,n[i])||(e(function(){t.continue(n[i])}),!1)}),o},notEqual:function(t){return this.inAnyRange([[de,t],[t,pe]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var e=T.apply(R,arguments);if(0===e.length)return new bt(this);try{e.sort(St)}catch(e){return t(this,ye)}var n=e.reduce(function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[de,e]]},null);return n.push([e[e.length-1],pe]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){if(0===n.length)return e(this);if(!n.every(function(t){return void 0!==t[0]&&void 0!==t[1]&&St(t[0],t[1])<=0}))return t(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",H.InvalidArgument);var o=!r||!1!==r.includeLowers,i=r&&!0===r.includeUppers;var u,s=St;function a(t,e){return s(t[0],e[0])}try{(u=n.reduce(function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(jt(e[0],o[1])<0&&jt(e[1],o[0])>0){o[0]=(i=o[0],u=e[0],jt(i,u)<0?i:u),o[1]=Ot(o[1],e[1]);break}}var i,u;return n===r&&t.push(e),t},[])).sort(a)}catch(e){return t(this,ye)}var c=0,l=i?function(t){return St(t,u[c][1])>0}:function(t){return St(t,u[c][1])>=0},f=o?function(t){return Et(t,u[c][0])>0}:function(t){return Et(t,u[c][0])>=0};var h=l,v=new bt(this,function(){return A.bound(u[0][0],u[u.length-1][1],!o,!i)});return v._ondirectionchange=function(t){"next"===t?(h=l,s=St):(h=f,s=Et),u.sort(a)},v._addAlgorithm(function(t,e,n){for(var r=t.key;h(r);)if(++c===u.length)return e(n),!1;return!!function(t){return!l(t)&&!f(t)}(r)||0!==jt(r,u[c][1])&&0!==jt(r,u[c][0])&&(e(function(){s===St?t.continue(u[c][0]):t.continue(u[c][1])}),!1)}),v},startsWithAnyOf:function(){var n=T.apply(R,arguments);return n.every(function(t){return"string"==typeof t})?0===n.length?e(this):this.inAnyRange(n.map(function(t){return[t,t+ve]})):t(this,"startsWithAnyOf() only works with strings")}}}),l(bt.prototype,function(){function t(t,e){t.filter=At(t.filter,e)}function e(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return At(r(),e())}:e,t.justLimit=n&&!r}function n(t,e){if(t.isPrimKey)return e;var n=t.table.schema.idxByName[t.index];if(!n)throw new H.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return e.index(n.name)}function o(t,e){var r=n(t,e);return t.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(t.range||null,t.dir+t.unique):r.openCursor(t.range||null,t.dir+t.unique)}function i(t,e,n,r,i){var u=t.replayFilter?At(t.filter,t.replayFilter()):t.filter;t.or?function(){var s={},a=0;function l(){2==++a&&n()}function f(t,n,o){if(!u||u(n,o,l,r)){var i=n.primaryKey,a=""+i;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(i)),c(s,a)||(s[a]=!0,e(t,n,o))}}t.or._iterate(f,l,r,i),kt(o(t,i),t.algorithm,f,l,r,!t.keysOnly&&t.valueMapper)}():kt(o(t,i),At(t.algorithm,u),e,n,r,!t.keysOnly&&t.valueMapper)}return{_read:function(t,e){var n=this._ctx;return n.error?n.table._trans(null,le.bind(null,n.error)):n.table._idbstore("readonly",t).then(e)},_write:function(t){var e=this._ctx;return e.error?e.table._trans(null,le.bind(null,e.error)):e.table._idbstore($,t,"locked")},_addAlgorithm:function(t){var e=this._ctx;e.algorithm=At(e.algorithm,t)},_iterate:function(t,e,n,r){return i(this._ctx,t,e,n,r)},clone:function(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&u(n,t),e._ctx=n,e},raw:function(){return this._ctx.valueMapper=null,this},each:function(t){var e=this._ctx;return this._read(function(n,r,o){i(e,t,n,r,o)})},count:function(t){var e=this._ctx;if(wt(e,!0))return this._read(function(t,r,o){var i=n(e,o),u=e.range?i.count(e.range):i.count();u.onerror=Se(r),u.onsuccess=function(n){t(Math.min(n.target.result,e.limit))}},t);var r=0;return this._read(function(t,n,o){i(e,function(){return++r,!1},function(){t(r)},n,o)},t)},sortBy:function(t,e){var n=t.split(".").reverse(),r=n[0],o=n.length-1;function i(t,e){return e?i(t[n[e]],e-1):t[r]}var u="next"===this._ctx.dir?1:-1;function s(t,e){var n=i(t,o),r=i(e,o);return n<r?-u:n>r?u:0}return this.toArray(function(t){return t.sort(s)}).then(e)},toArray:function(t){var e=this._ctx;return this._read(function(t,r,o){if(a&&"next"===e.dir&&wt(e,!0)&&e.limit>0){var u=e.table.hook.reading.fire,s=n(e,o),c=e.limit<1/0?s.getAll(e.range,e.limit):s.getAll(e.range);c.onerror=Se(r),c.onsuccess=Ee(u===Y?t:function(e){try{t(e.map(u))}catch(t){r(t)}})}else{var l=[];i(e,function(t){l.push(t)},function(){t(l)},r,o)}},t)},offset:function(t){var n=this._ctx;return t<=0?this:(n.offset+=t,wt(n)?e(n,function(){var e=t;return function(t,n){return 0===e||(1===e?(--e,!1):(n(function(){t.advance(e),e=0}),!1))}}):e(n,function(){var e=t;return function(){return--e<0}}),this)},limit:function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),e(this._ctx,function(){var e=t;return function(t,n,r){return--e<=0&&n(r),e>=0}},!0),this},until:function(e,n){return t(this._ctx,function(t,r,o){return!e(t.value)||(r(o),n)}),this},first:function(t){return this.limit(1).toArray(function(t){return t[0]}).then(t)},last:function(t){return this.reverse().first(t)},filter:function(e){var n,r;return t(this._ctx,function(t){return e(t.value)}),n=this._ctx,r=e,n.isMatch=At(n.isMatch,r),this},and:function(t){return this.filter(t)},or:function(t){return new gt(this._ctx.table,t,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,n){t(n.key,n)})},eachUniqueKey:function(t){return this._ctx.unique="unique",this.eachKey(t)},eachPrimaryKey:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,n){t(n.primaryKey,n)})},keys:function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each(function(t,e){n.push(e.key)}).then(function(){return n}).then(t)},primaryKeys:function(t){var e=this._ctx;if(a&&"next"===e.dir&&wt(e,!0)&&e.limit>0)return this._read(function(t,r,o){var i=n(e,o),u=e.limit<1/0?i.getAllKeys(e.range,e.limit):i.getAllKeys(e.range);u.onerror=Se(r),u.onsuccess=Ee(t)}).then(t);e.keysOnly=!e.isMatch;var r=[];return this.each(function(t,e){r.push(e.primaryKey)}).then(function(){return r}).then(t)},uniqueKeys:function(t){return this._ctx.unique="unique",this.keys(t)},firstKey:function(t){return this.limit(1).keys(function(t){return t[0]}).then(t)},lastKey:function(t){return this.reverse().firstKey(t)},distinct:function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return t(this._ctx,function(t){var e=t.primaryKey.toString(),n=c(r,e);return r[e]=!0,!n}),this},modify:function(t){var e=this,n=this._ctx.table.hook,o=n.updating.fire,i=n.deleting.fire;return this._write(function(n,s,a,l){var f;if("function"==typeof t)f=o===X&&i===X?t:function(e){var n=F(e);if(!1===t.call(this,e,this))return!1;if(c(this,"value")){var u=M(n,this.value),s=o.call(this,u,this.primKey,n,l);s&&(e=this.value,r(s).forEach(function(t){j(e,t,s[t])}))}else i.call(this,this.primKey,e,l)};else if(o===X){var h=r(t),v=h.length;f=function(e){for(var n=!1,r=0;r<v;++r){var o=h[r],i=t[o];k(e,o)!==i&&(j(e,o,i),n=!0)}return n}}else{var p=t;t=O(p),f=function(e){var n=!1,i=o.call(this,t,this.primKey,F(e),l);return i&&u(t,i),r(t).forEach(function(r){var o=t[r];k(e,r)!==o&&(j(e,r,o),n=!0)}),i&&(t=O(p)),n}}var d=0,y=0,m=!1,g=[],b=[],w=null;function _(t){return t&&(g.push(t),b.push(w)),s(new J("Error modifying one or more objects",g,y,b))}function S(){m&&y+g.length===d&&(g.length>0?_():n(y))}e.clone().raw()._iterate(function(t,e){w=e.primaryKey;var n={primKey:e.primaryKey,value:t,onsuccess:null,onerror:null};function r(t){return g.push(t),b.push(n.primKey),S(),!0}if(!1!==f.call(n,t,n)){var o=!c(n,"value");++d,x(function(){var t=o?e.delete():e.update(n.value);t._hookCtx=n,t.onerror=Pe(r),t.onsuccess=Oe(function(){++y,S()})},r)}else n.onsuccess&&n.onsuccess(n.value)},function(){m=!0,S()},_,a)})},delete:function(){var t=this,e=this._ctx,n=e.range,r=e.table.hook.deleting.fire,o=r!==X;if(!o&&wt(e)&&(e.isPrimKey&&!_e||!n))return this._write(function(t,e,r){var o=Se(e),i=n?r.count(n):r.count();i.onerror=o,i.onsuccess=function(){var u=i.result;x(function(){var e=n?r.delete(n):r.clear();e.onerror=o,e.onsuccess=function(){return t(u)}},function(t){return e(t)})}});var i=o?2e3:1e4;return this._write(function(n,u,s,a){var c=0,l=t.clone({keysOnly:!e.isMatch&&!o}).distinct().limit(i).raw(),f=[],h=function(){return l.each(o?function(t,e){f.push([e.primaryKey,e.value])}:function(t,e){f.push(e.primaryKey)}).then(function(){return o?f.sort(function(t,e){return St(t[0],e[0])}):f.sort(St),pt(s,a,f,o,r)}).then(function(){var t=f.length;return c+=t,f=[],t<i?c:h()})};n(h())})}}}),u(this,{Collection:bt,Table:ht,Transaction:mt,Version:at,WhereClause:gt}),G.on("versionchange",function(t){t.newVersion>0?console.warn("Another connection wants to upgrade database '"+G.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+G.name+"'. Closing db now to resume the delete request."),G.close()}),G.on("blocked",function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('"+G.name+"') was blocked"):console.warn("Upgrade '"+G.name+"' blocked by other connection holding version "+t.oldVersion/10)}),b.forEach(function(t){t(G)})}function je(t,e){return r(e).forEach(function(n){var r=function t(e){if("function"==typeof e)return new e;if(o(e))return[t(e[0])];if(e&&"object"==typeof e){var n={};return je(n,e),n}return e}(e[n]);t[n]=r}),t}function Oe(t){return Jt(function(e){var n=e.target,r=n._hookCtx,o=r.value||n.result,i=r&&r.onsuccess;i&&i(o),t&&t(o)},t)}function Se(t){return Jt(function(e){return Fe(e),t(e.target.error),!1})}function Ee(t){return Jt(function(e){t(e.target.result)})}function Pe(t){return Jt(function(e){var n=e.target,r=n.error,o=n._hookCtx,i=o&&o.onerror;return i&&i(r),Fe(e),t(r),!1})}function Fe(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}function Me(t){var e=function(e){return t.next(e)},n=i(e),r=i(function(e){return t.throw(e)});function i(t){return function(e){var i=t(e),u=i.value;return i.done?u:u&&"function"==typeof u.then?u.then(n,r):o(u)?Dt.all(u).then(n,r):n(u)}}return i(e)()}function Ae(t,e,n,r,o,i,u){this.name=t,this.keyPath=e,this.unique=n,this.multi=r,this.auto=o,this.compound=i,this.dotted=u;var s="string"==typeof e?e:e&&"["+[].join.call(e,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(o?"++":"")+s}function De(t,e,n,r){this.name=t,this.primKey=e||new Ae,this.indexes=n||[new Ae],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=w(n,function(t){return[t.name,t]})}function Re(t){return 1===t.length?t[0]:t}function Te(t){var e=t&&(t.getDatabaseNames||t.webkitGetDatabaseNames);return e&&e.bind(t)}I(U,xe),l(ke,Q),l(ke,{delete:function(t){var e=new ke(t),n=e.delete();return n.onblocked=function(t){return e.on("blocked",t),this},n},exists:function(t){return new ke(t).open().then(function(t){return t.close(),!0}).catch(ke.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(t){var e=Te(ke.dependencies.indexedDB);return e?new Dt(function(t,n){var r=e();r.onsuccess=function(e){t(y(e.target.result,0))},r.onerror=Se(n)}).then(t):he.dbnames.toCollection().primaryKeys(t)},defineClass:function(){return function(t){t&&u(this,t)}},applyStructure:je,ignoreTransaction:function(t){return Pt.trans?ie(Pt.transless,t):t()},vip:function(t){return Xt(function(){return Pt.letThrough=!0,t()})},async:function(t){return function(){try{var e=Me(t.apply(this,arguments));return e&&"function"==typeof e.then?e:Dt.resolve(e)}catch(t){return le(t)}}},spawn:function(t,e,n){try{var r=Me(t.apply(n,e||[]));return r&&"function"==typeof r.then?r:Dt.resolve(r)}catch(t){return le(t)}},currentTransaction:{get:function(){return Pt.trans||null}},waitFor:function(t,e){var n=Dt.resolve("function"==typeof t?ke.ignoreTransaction(t):t).timeout(e||6e4);return Pt.trans?Pt.trans.waitFor(n):n},Promise:Dt,debug:{get:function(){return U},set:function(t){I(t,"dexie"===t?function(){return!0}:xe)}},derive:v,extend:u,props:l,override:m,Events:fe,getByKeyPath:k,setByKeyPath:j,delByKeyPath:function(t,e){"string"==typeof e?j(t,e,void 0):"length"in e&&[].map.call(e,function(e){j(t,e,void 0)})},shallowClone:O,deepClone:F,getObjectDiff:M,asap:b,maxKey:pe,minKey:de,addons:[],connections:ge,MultiModifyError:H.Modify,errnames:Z,IndexSpec:Ae,TableSchema:De,dependencies:function(){try{return{indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch(t){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,2*n)}),default:ke,Dexie:ke}),Dt.rejectionMapper=function(t,e){if(!t||t instanceof K||t instanceof TypeError||t instanceof SyntaxError||!t.name||!G[t.name])return t;var n=new G[t.name](e||t.message,t);return"stack"in t&&h(n,"stack",{get:function(){return this.inner.stack}}),n},(he=new ke("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==i.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach(function(t){return he.dbnames.put({name:t}).catch(X)}),localStorage.removeItem("Dexie.DatabaseNames"))}catch(t){}}(),e.a=ke}).call(this,n(41),n(102).setImmediate)},function(t,e,n){var r=n(4);r(r.S,"Math",{sign:n(340)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var r=n(180),o=n(342);t.exports=function t(e,n,i,u,s){var a=-1,c=e.length;for(i||(i=o),s||(s=[]);++a<c;){var l=e[a];n>0&&i(l)?n>1?t(l,n-1,i,u,s):r(s,l):u||(s[s.length]=l)}return s}},function(t,e,n){var r=n(152),o=n(182),i=n(143),u=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(u&&t&&t[u])}},function(t,e){t.exports=function(t,e){for(var n,r=-1,o=t.length;++r<o;){var i=e(t[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}},function(t,e,n){var r=n(237);t.exports=function(t){var e=null==t?0:t.length;return e?r(t,1,e):[]}},function(t,e,n){var r=n(21),o=n(346);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(349);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){(function(){var t,e,r,o,i,u,s,a,c,l,f,h,v,p,d,y,m,g,b,w,_,x,k,j,O,S,E,P,F,M,A,D,R,T,U,I,C,B,L,V,N,q,z,K,J,W,Z,$,H,G,Q=[].indexOf;for(C in i=this.Cube||n(240),[_,w,d,u,b,t]=[0,1,2,3,4,5],[F,O,E,k,l,h,a,p]=[0,1,2,3,4,5,6,7],[P,j,S,x,v,c,f,s,m,y,e,r]=[0,1,2,3,4,5,6,7,8,9,10,11],o=function(t,e){var n,r,o;if(t<e)return 0;for(e>t/2&&(e=t-e),o=1,n=t,r=1;n!==t-e;)o*=n,o/=r,n--,r++;return o},I=function(t){var e,n,r,o;for(e=1,n=r=2,o=t;2<=o?r<=o:r>=o;n=2<=o?++r:--r)e*=n;return e},B=function(t,e){return t>e?t:e},W=function(t,e,n){var r,o,i,u,s;for(s=t[e],r=o=i=e,u=n-1;i<=u?o<=u:o>=u;r=i<=u?++o:--o)t[r]=t[r+1];return t[n]=s},Z=function(t,e,n){var r,o,i,u,s;for(s=t[n],r=o=i=n,u=e+1;i<=u?o<=u:o>=u;r=i<=u?++o:--o)t[r]=t[r-1];return t[e]=s},g={twist:function(t){var e,n,r,o,i,u;if(null!=t){for(i=0,e=n=6;n>=0;e=--n)o=t%3,t=t/3|0,this.co[e]=o,i+=o;return this.co[7]=(3-i%3)%3,this}for(u=0,e=r=0;r<=6;e=++r)u=3*u+this.co[e];return u},flip:function(t){var e,n,r,o,i,u;if(null!=t){for(i=0,e=n=10;n>=0;e=--n)o=t%2,t=t/2|0,this.eo[e]=o,i+=o;return this.eo[11]=(2-i%2)%2,this}for(u=0,e=r=0;r<=10;e=++r)u=2*u+this.eo[e];return u},cornerParity:function(){var t,e,n,r,o,i,u,s,a;for(a=0,t=n=o=p,i=F+1;o<=i?n<=i:n>=i;t=o<=i?++n:--n)for(e=r=u=t-1,s=F;u<=s?r<=s:r>=s;e=u<=s?++r:--r)this.cp[e]>this.cp[t]&&a++;return a%2},edgeParity:function(){var t,e,n,o,i,u,s,a,c;for(c=0,t=n=i=r,u=P+1;i<=u?n<=u:n>=u;t=i<=u?++n:--n)for(e=o=s=t-1,a=P;s<=a?o<=a:o>=a;e=s<=a?++o:--o)this.ep[e]>this.ep[t]&&c++;return c%2},URFtoDLF:(z=function(t,e,n,r=!1){var i,u,s,a,c,l;return s=I((a=n-e)+1),"corners"===t?(u=7,l="cp"):(u=11,l="ep"),c=function(){var t,e,n;for(n=[],i=t=0,e=a;0<=e?t<=e:t>=e;i=0<=e?++t:--t)n.push(0);return n}(),function(t){var f,h,v,p,d,y,m,g,b,w,_,x,k,j,O,S,E,P,F,M,A,D,R,T,U,I,C;if(null!=t){for(i=y=0,_=a;0<=_?y<=_:y>=_;i=0<=_?++y:--y)c[i]=i+e;for(h=t%s,f=t/s|0,b=this[l],i=m=0,x=u;0<=x?m<=x:m>=x;i=0<=x?++m:--m)b[i]=-1;for(p=g=1,j=a;1<=j?g<=j:g>=j;p=1<=j?++g:--g)for(d=h%(p+1),h=h/(p+1)|0;d>0;)Z(c,0,p),d--;if(U=a,r)for(p=w=0,O=u;0<=O?w<=O:w>=O;p=0<=O?++w:--w)f-(v=o(u-p,U+1))>=0&&(b[p]=c[a-U],f-=v,U--);else for(p=D=S=u;S<=0?D<=0:D>=0;p=S<=0?++D:--D)f-(v=o(p,U+1))>=0&&(b[p]=c[U],f-=v,U--);return this}for(b=this[l],i=R=0,E=a;0<=E?R<=E:R>=E;i=0<=E?++R:--R)c[i]=-1;if(f=h=U=0,r)for(p=T=P=u;P<=0?T<=0:T>=0;p=P<=0?++T:--T)e<=(F=b[p])&&F<=n&&(f+=o(u-p,U+1),c[a-U]=b[p],U++);else for(p=I=0,M=u;0<=M?I<=M:I>=M;p=0<=M?++I:--I)e<=(A=b[p])&&A<=n&&(f+=o(p,U+1),c[U]=b[p],U++);for(p=C=k=a;k<=0?C<=0:C>=0;p=k<=0?++C:--C){for(d=0;c[p]!==e+p;)W(c,0,p),d++;h=(p+1)*h+d}return f*s+h}})("corners",F,h),URtoUL:z("edges",P,S),UBtoDF:z("edges",x,c),URtoDF:z("edges",P,c),FRtoBR:z("edges",m,r,!0)})$=g[C],i.prototype[C]=$;D=function(t,e,n){var r,o,u,s,a,c,l,f,h,v,p;for(r="corners"===t?"cornerMultiply":"edgeMultiply",o=new i,p=[],u=c=0,v=n-1;0<=v?c<=v:c>=v;u=0<=v?++c:--c){for(o[e](u),s=[],a=f=0;f<=5;a=++f){for(l=i.moves[a],h=0;h<=2;++h)o[r](l),s.push(o[e]());o[r](l)}p.push(s)}return p},H=new i,G=new i,L=function(t,e){var n,r;for(H.URtoUL(t),G.UBtoDF(e),n=r=0;r<=7;n=++r)if(-1!==H.ep[n]){if(-1!==G.ep[n])return-1;G.ep[n]=H.ep[n]}return G.URtoDF()},i.moveTables={parity:[[1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1],[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]],twist:null,flip:null,FRtoBR:null,URFtoDLF:null,URtoDF:null,URtoUL:null,UBtoDF:null,mergeURtoDF:null},V={twist:["corners",2187],flip:["edges",2048],FRtoBR:["edges",11880],URFtoDLF:["corners",20160],URtoDF:["edges",20160],URtoUL:["edges",1320],UBtoDF:["edges",1320],mergeURtoDF:[]},i.computeMoveTables=function(...t){var e,n,r,o,i,u;for(0===t.length&&(t=function(){var t;for(r in t=[],V)t.push(r);return t}()),n=0,e=t.length;n<e;n++)u=t[n],null===this.moveTables[u]&&("mergeURtoDF"===u?this.moveTables.mergeURtoDF=function(){var t,e,n,r;for(r=[],e=n=0;n<=335;e=++n)r.push(function(){var n,r;for(r=[],t=n=0;n<=335;t=++n)r.push(L(e,t));return r}());return r}():([o,i]=V[u],this.moveTables[u]=D(o,u,i)));return this},M=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],N=function(){var t,e,n,r,o,i,u,s;for(s=[],e=n=0;n<=5;e=++n){for(r=[],t=o=0;o<=5;t=++o)if(t!==e&&t!==e-3)for(u=i=0;i<=2;u=++i)r.push(3*t+u);s.push(r)}return s}(),A=[0,1,2,4,7,9,10,11,13,16],q=function(){var t,e,n,r,o,i,u,s,a,c;for(c=[],e=r=0;r<=5;e=++r){for(o=[],t=i=0;i<=5;t=++i)if(t!==e&&t!==e-3)for(u=0,n=(a=0===t||3===t?[0,1,2]:[1]).length;u<n;u++)s=a[u],o.push(3*t+s);c.push(o)}return c}(),K=function(t,e,n){var r,o;return o=e>>3,r=e%8<<2,null!=n?(t[o]&=~(15<<r),t[o]|=n<<r,n):(t[o]&15<<r)>>>r},R=function(t,e,n,r){var o,i,u,s,a,c,l,f,h,v,p;for(p=function(){var t,n,r;for(r=[],t=0,n=Math.ceil(e/8)-1;0<=n?t<=n:t>=n;0<=n?++t:--t)r.push(4294967295);return r}(),l=1===t?M:A,K(p,0,i=0),u=1;u!==e;){for(s=c=0,v=e-1;0<=v?c<=v:c>=v;s=0<=v?++c:--c)if(K(p,s)===i)for(o=n(s),h=0,a=l.length;h<a;h++)f=r(o,l[h]),15===K(p,f)&&(K(p,f,i+1),u++);i++}return p},i.pruningTables={sliceTwist:null,sliceFlip:null,sliceURFtoDLFParity:null,sliceURtoDFParity:null},J={sliceTwist:[1,1082565,function(t){return[t%495,t/495|0]},function(t,e){var n,r,o;return[r,o]=t,n=i.moveTables.FRtoBR[24*r][e]/24|0,495*i.moveTables.twist[o][e]+n}],sliceFlip:[1,1013760,function(t){return[t%495,t/495|0]},function(t,e){var n,r,o;return[o,n]=t,r=i.moveTables.FRtoBR[24*o][e]/24|0,495*i.moveTables.flip[n][e]+r}],sliceURFtoDLFParity:[2,967680,function(t){return[t%2,(t/2|0)%24,(t/2|0)/24|0]},function(t,e){var n,r,o,u,s;return[u,s,n]=t,r=i.moveTables.parity[u][e],o=i.moveTables.FRtoBR[s][e],2*(24*i.moveTables.URFtoDLF[n][e]+o)+r}],sliceURtoDFParity:[2,967680,function(t){return[t%2,(t/2|0)%24,(t/2|0)/24|0]},function(t,e){var n,r,o,u,s;return[u,s,n]=t,r=i.moveTables.parity[u][e],o=i.moveTables.FRtoBR[s][e],2*(24*i.moveTables.URtoDF[n][e]+o)+r}]},i.computePruningTables=function(...t){var e,n,r,o,i;for(0===t.length&&(t=function(){var t;for(r in t=[],J)t.push(r);return t}()),n=0,e=t.length;n<e;n++)i=t[n],null===this.pruningTables[i]&&(o=J[i],this.pruningTables[i]=R(...o));return this},i.initSolver=function(){return i.computeMoveTables(),i.computePruningTables()},i.prototype.solveUpright=function(t=22){var e,n,r,o,u,s,a,c,l;return r=function(){var t,e,n,r,o,i,u;for(e=["U","R","F","D","L","B"],i=["","2","'"],u=[],t=n=0;n<=5;t=++n)for(o=r=0;r<=2;o=++r)u.push(e[t]+i[o]);return u}(),e=class{constructor(t){this.parent=null,this.lastMove=null,this.depth=0,t&&this.init(t)}init(t){return this.flip=t.flip(),this.twist=t.twist(),this.slice=t.FRtoBR()/24|0,this.parity=t.cornerParity(),this.URFtoDLF=t.URFtoDLF(),this.FRtoBR=t.FRtoBR(),this.URtoUL=t.URtoUL(),this.UBtoDF=t.UBtoDF(),this}solution(){return this.parent?this.parent.solution()+r[this.lastMove]+" ":""}move(t,e,n){return i.moveTables[t][e][n]}pruning(t,e){return K(i.pruningTables[t],e)}moves1(){return null!==this.lastMove?N[this.lastMove/3|0]:M}minDist1(){var t,e;return t=this.pruning("sliceFlip",495*this.flip+this.slice),e=this.pruning("sliceTwist",495*this.twist+this.slice),B(t,e)}next1(t){var e;return(e=n.pop()).parent=this,e.lastMove=t,e.depth=this.depth+1,e.flip=this.move("flip",this.flip,t),e.twist=this.move("twist",this.twist,t),e.slice=this.move("FRtoBR",24*this.slice,t)/24|0,e}moves2(){return null!==this.lastMove?q[this.lastMove/3|0]:A}minDist2(){var t,e,n,r;return n=2*(24*this.URtoDF+this.FRtoBR)+this.parity,t=this.pruning("sliceURtoDFParity",n),r=2*(24*this.URFtoDLF+this.FRtoBR)+this.parity,e=this.pruning("sliceURFtoDLFParity",r),B(t,e)}init2(t=!0){if(null!==this.parent)return this.parent.init2(!1),this.URFtoDLF=this.move("URFtoDLF",this.parent.URFtoDLF,this.lastMove),this.FRtoBR=this.move("FRtoBR",this.parent.FRtoBR,this.lastMove),this.parity=this.move("parity",this.parent.parity,this.lastMove),this.URtoUL=this.move("URtoUL",this.parent.URtoUL,this.lastMove),this.UBtoDF=this.move("UBtoDF",this.parent.UBtoDF,this.lastMove),t?this.URtoDF=this.move("mergeURtoDF",this.URtoUL,this.UBtoDF):void 0}next2(t){var e;return(e=n.pop()).parent=this,e.lastMove=t,e.depth=this.depth+1,e.URFtoDLF=this.move("URFtoDLF",this.URFtoDLF,t),e.FRtoBR=this.move("FRtoBR",this.FRtoBR,t),e.parity=this.move("parity",this.parity,t),e.URtoDF=this.move("URtoDF",this.URtoDF,t),e}},c=null,u=function(e){var n,r,i,u;for(n=0,u=[],n=r=1,i=t;(1<=i?r<=i:r>=i)&&(o(e,n),null===c);n=1<=i?++r:--r)u.push(n++);return u},o=function(t,e){var r,i,u,s,l,f,h;if(0===e){if(0===t.minDist1()&&(null===t.lastMove||(l=t.lastMove,Q.call(A,l)<0)))return a(t)}else if(e>0&&t.minDist1()<=e){for(h=[],i=0,r=(f=t.moves1()).length;i<r&&(u=f[i],s=t.next1(u),o(s,e-1),n.push(s),null===c);i++)h.push(void 0);return h}},a=function(e){var n,r,o,i;for(e.init2(),i=[],n=r=1,o=t-e.depth;(1<=o?r<=o:r>=o)&&(s(e,n),null===c);n=1<=o?++r:--r)i.push(n++);return i},s=function(t,e){var r,o,i,u,a,l;if(0===e){if(0===t.minDist2())return c=t.solution()}else if(e>0&&t.minDist2()<=e){for(l=[],o=0,r=(a=t.moves2()).length;o<r&&(i=a[o],u=t.next2(i),s(u,e-1),n.push(u),null===c);o++)l.push(void 0);return l}},u(l=(n=function(){var n,r,o;for(o=[],n=0,r=t+1;0<=r?n<=r:n>=r;0<=r?++n:--n)o.push(new e);return o}()).pop().init(this)),n.push(l),c.length>0&&(c=c.substring(0,c.length-1)),c},U={U:0,R:1,F:2,D:3,L:4,B:5},T={0:"U",1:"R",2:"F",3:"D",4:"L",5:"B"},i.prototype.solve=function(t=22){var e,n,r,o,u,s,a,c;for(c=(e=this.clone()).upright(),e.move(c),s=(new i).move(c).center,a=[],r=0,n=(u=e.solveUpright(t).split(" ")).length;r<n;r++)o=u[r],a.push(T[s[U[o[0]]]]),o.length>1&&(a[a.length-1]+=o[1]);return a.join(" ")},i.scramble=function(){return i.inverse(i.random().solve())}}).call(this)},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function i(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,u,s,a,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(i(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),u=(c=n.slice()).length,a=0;a<u;a++)c[a].apply(this,s);return!0},n.prototype.addListener=function(t,e){var u;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(u=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&u>0&&this._events[t].length>u&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(t,o),n||(n=!0,e.apply(this,arguments))}return o.listener=e,this.on(t,o),this},n.prototype.removeListener=function(t,e){var n,i,u,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(u=(n=this._events[t]).length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=u;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){var r=n(353);t.exports=function(t){return t&&t.length?r(t):[]}},function(t,e,n){var r=n(217),o=n(354),i=n(359),u=n(218),s=n(360),a=n(179),c=200;t.exports=function(t,e,n){var l=-1,f=o,h=t.length,v=!0,p=[],d=p;if(n)v=!1,f=i;else if(h>=c){var y=e?null:s(t);if(y)return a(y);v=!1,f=u,d=new r}else d=e?[]:p;t:for(;++l<h;){var m=t[l],g=e?e(m):m;if(m=n||0!==m?m:0,v&&g==g){for(var b=d.length;b--;)if(d[b]===g)continue t;e&&d.push(g),p.push(m)}else f(d,g,n)||(d!==p&&d.push(g),p.push(m))}return p}},function(t,e,n){var r=n(355);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(356),o=n(357),i=n(358);t.exports=function(t,e,n){return e==e?i(t,e,n):r(t,o,n)}},function(t,e){t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(228),o=n(361),i=n(179),u=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;t.exports=u},function(t,e){t.exports=function(){}},function(t,e,n){var r=self.crypto||self.msCrypto;t.exports=function(t){t=t||21;for(var e="",n=r.getRandomValues(new Uint8Array(t));0<t--;)e+="Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-"[63&n[t]];return e}},function(t,e,n){var r=n(191),o=n(364),i=n(386),u=n(169),s=n(159),a=n(388),c=n(390),l=n(246),f=c(function(t,e){var n={};if(null==t)return n;var c=!1;e=r(e,function(e){return e=u(e,t),c||(c=e.length>1),e}),s(t,l(t),n),c&&(n=o(n,7,a));for(var f=e.length;f--;)i(n,e[f]);return n});t.exports=f},function(t,e,n){var r=n(175),o=n(365),i=n(241),u=n(366),s=n(367),a=n(370),c=n(371),l=n(372),f=n(373),h=n(220),v=n(246),p=n(167),d=n(374),y=n(375),m=n(380),g=n(143),b=n(183),w=n(382),_=n(147),x=n(384),k=n(157),j=1,O=2,S=4,E="[object Arguments]",P="[object Function]",F="[object GeneratorFunction]",M="[object Object]",A={};A[E]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[M]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[P]=A["[object WeakMap]"]=!1,t.exports=function t(e,n,D,R,T,U){var I,C=n&j,B=n&O,L=n&S;if(D&&(I=T?D(e,R,T,U):D(e)),void 0!==I)return I;if(!_(e))return e;var V=g(e);if(V){if(I=d(e),!C)return c(e,I)}else{var N=p(e),q=N==P||N==F;if(b(e))return a(e,C);if(N==M||N==E||q&&!T){if(I=B||q?{}:m(e),!C)return B?f(e,s(I,e)):l(e,u(I,e))}else{if(!A[N])return T?e:{};I=y(e,N,C)}}U||(U=new r);var z=U.get(e);if(z)return z;if(U.set(e,I),x(e))return e.forEach(function(r){I.add(t(r,n,D,r,e,U))}),I;if(w(e))return e.forEach(function(r,o){I.set(o,t(r,n,D,o,e,U))}),I;var K=L?B?v:h:B?keysIn:k,J=V?void 0:K(e);return o(J||e,function(r,o){J&&(r=e[o=r]),i(I,o,t(r,n,D,o,e,U))}),I}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(159),o=n(157);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(159),o=n(244);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(147),o=n(187),i=n(369),u=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var s in t)("constructor"!=s||!e&&u.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){(function(t){var r=n(144),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=i&&i.exports===o?r.Buffer:void 0,s=u?u.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(166)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(159),o=n(181);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(159),o=n(245);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(194),o=n(376),i=n(377),u=n(378),s=n(379),a="[object Boolean]",c="[object Date]",l="[object Map]",f="[object Number]",h="[object RegExp]",v="[object Set]",p="[object String]",d="[object Symbol]",y="[object ArrayBuffer]",m="[object DataView]",g="[object Float32Array]",b="[object Float64Array]",w="[object Int8Array]",_="[object Int16Array]",x="[object Int32Array]",k="[object Uint8Array]",j="[object Uint8ClampedArray]",O="[object Uint16Array]",S="[object Uint32Array]";t.exports=function(t,e,n){var E=t.constructor;switch(e){case y:return r(t);case a:case c:return new E(+t);case m:return o(t,n);case g:case b:case w:case _:case x:case k:case j:case O:case S:return s(t,n);case l:return new E;case f:case p:return new E(t);case h:return i(t);case v:return new E;case d:return u(t)}}},function(t,e,n){var r=n(194);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(152),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(194);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(381),o=n(193),i=n(187);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(147),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){var r=n(383),o=n(185),i=n(186),u=i&&i.isMap,s=u?o(u):r;t.exports=s},function(t,e,n){var r=n(167),o=n(145),i="[object Map]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(385),o=n(185),i=n(186),u=i&&i.isSet,s=u?o(u):r;t.exports=s},function(t,e,n){var r=n(167),o=n(145),i="[object Set]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(169),o=n(236),i=n(387),u=n(158);t.exports=function(t,e){return e=r(e,t),null==(t=i(t,e))||delete t[u(o(e))]}},function(t,e,n){var r=n(189),o=n(237);t.exports=function(t,e){return e.length<2?t:r(t,o(e,0,-1))}},function(t,e,n){var r=n(389);t.exports=function(t){return r(t)?void 0:t}},function(t,e,n){var r=n(151),o=n(193),i=n(145),u="[object Object]",s=Function.prototype,a=Object.prototype,c=s.toString,l=a.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!i(t)||r(t)!=u)return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e,n){var r=n(235),o=n(391),i=n(393);t.exports=function(t){return i(o(t,void 0,r),t+"")}},function(t,e,n){var r=n(392),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,u=-1,s=o(i.length-e,0),a=Array(s);++u<s;)a[u]=i[e+u];u=-1;for(var c=Array(e+1);++u<e;)c[u]=i[u];return c[e]=n(a),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(394),o=n(396)(r);t.exports=o},function(t,e,n){var r=n(395),o=n(243),i=n(232),u=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=u},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=800,r=16,o=Date.now;t.exports=function(t){var e=0,i=0;return function(){var u=o(),s=r-(u-i);if(i=u,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){(function(n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){"use strict";function e(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){u(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i=function(){try{return Function("return this")()||(0,eval)("this")}catch(t){return"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:this}}(),u=i.saveAs||"object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(t,n,u){var s=i.URL||i.webkitURL,a=document.createElement("a");n=n||t.name||"download",a.download=n,a.rel="noopener","string"==typeof t?(a.href=t,a.origin===location.origin?o(a):r(a.href)?e(t,n,u):o(a,a.target="_blank")):(a.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){o(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,i){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Depricated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,i),n);else if(r(t))e(t,n,i);else{var u=document.createElement("a");u.href=t,u.target="_blank",setTimeout(function(){o(u)})}}:function(t,n,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,r);var u="application/octet-stream"===t.type,s=/constructor/i.test(i.HTMLElement)||i.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||u&&s)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=a?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},c.readAsDataURL(t)}else{var l=i.URL||i.webkitURL,f=l.createObjectURL(t);o?o.location=f:location.href=f,o=null,setTimeout(function(){l.revokeObjectURL(f)},4e4)}};i.saveAs=u.saveAs=u,t.exports=u})?r.apply(e,o):r)||(t.exports=i)}).call(this,n(41))}])]);